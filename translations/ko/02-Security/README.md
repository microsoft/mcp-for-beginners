# MCP 보안: AI 시스템을 위한 종합 보호

[![MCP Security Best Practices](../../../translated_images/ko/03.175aed6dedae133f9d41e49cefd0f0a9a39c3317e1eaa7ef7182696af7534308.png)](https://youtu.be/88No8pw706o)

_(위 이미지를 클릭하여 이 수업의 비디오를 시청하세요)_

보안은 AI 시스템 설계의 기본이며, 그래서 우리는 두 번째 섹션으로 이를 우선시합니다. 이는 Microsoft의 [Secure Future Initiative](https://www.microsoft.com/security/blog/2025/04/17/microsofts-secure-by-design-journey-one-year-of-success/)에서 제시한 **Secure by Design** 원칙과 일치합니다.

Model Context Protocol(MCP)은 AI 기반 애플리케이션에 강력한 새로운 기능을 제공하는 동시에 전통적인 소프트웨어 위험을 넘어서는 고유한 보안 과제를 도입합니다. MCP 시스템은 기존의 보안 문제(안전한 코딩, 최소 권한, 공급망 보안)뿐만 아니라 프롬프트 인젝션, 도구 중독, 세션 하이재킹, 혼란스러운 대리인 공격, 토큰 패스스루 취약점, 동적 기능 수정 등 AI 특유의 위협에도 직면합니다.

이 수업에서는 MCP 구현에서 가장 중요한 보안 위험을 탐구합니다—인증, 권한 부여, 과도한 권한, 간접 프롬프트 인젝션, 세션 보안, 혼란스러운 대리인 문제, 토큰 관리, 공급망 취약점을 다룹니다. Microsoft의 Prompt Shields, Azure Content Safety, GitHub Advanced Security와 같은 솔루션을 활용하여 MCP 배포를 강화하는 실행 가능한 제어 및 모범 사례를 배우게 됩니다.

## 학습 목표

이 수업이 끝나면 다음을 수행할 수 있습니다:

- **MCP 특유 위협 식별**: 프롬프트 인젝션, 도구 중독, 과도한 권한, 세션 하이재킹, 혼란스러운 대리인 문제, 토큰 패스스루 취약점, 공급망 위험 등 MCP 시스템의 고유 보안 위험 인식
- **보안 제어 적용**: 강력한 인증, 최소 권한 접근, 안전한 토큰 관리, 세션 보안 제어, 공급망 검증 등 효과적인 완화책 구현
- **Microsoft 보안 솔루션 활용**: MCP 워크로드 보호를 위한 Microsoft Prompt Shields, Azure Content Safety, GitHub Advanced Security 이해 및 배포
- **도구 보안 검증**: 도구 메타데이터 검증의 중요성 인식, 동적 변경 모니터링, 간접 프롬프트 인젝션 공격 방어
- **모범 사례 통합**: 안전한 코딩, 서버 강화, 제로 트러스트 등 기존 보안 기본 원칙과 MCP 특유 제어를 결합하여 종합 보호 구현

# MCP 보안 아키텍처 및 제어

현대 MCP 구현은 전통적인 소프트웨어 보안과 AI 특유 위협을 모두 다루는 다층 보안 접근법이 필요합니다. 빠르게 진화하는 MCP 사양은 보안 제어를 지속적으로 성숙시켜 기업 보안 아키텍처 및 확립된 모범 사례와의 더 나은 통합을 가능하게 합니다.

[Microsoft Digital Defense Report](https://aka.ms/mddr)의 연구에 따르면 **보고된 침해의 98%는 강력한 보안 위생으로 예방 가능**합니다. 가장 효과적인 보호 전략은 기본 보안 관행과 MCP 특유 제어를 결합하는 것으로, 입증된 기본 보안 조치가 전체 보안 위험 감소에 가장 큰 영향을 미칩니다.

## 현재 보안 환경

> **참고:** 이 정보는 **2025년 12월 18일** 기준 MCP 보안 표준을 반영합니다. MCP 프로토콜은 빠르게 진화하고 있으며, 향후 구현에서는 새로운 인증 패턴과 향상된 제어가 도입될 수 있습니다. 최신 지침은 항상 현재 [MCP 사양](https://spec.modelcontextprotocol.io/), [MCP GitHub 저장소](https://github.com/modelcontextprotocol), [보안 모범 사례 문서](https://modelcontextprotocol.io/specification/2025-11-25/basic/security_best_practices)를 참조하세요.

### MCP 인증의 진화

MCP 사양은 인증 및 권한 부여 접근법에서 크게 발전했습니다:

- **초기 접근법**: 초기 사양은 개발자가 맞춤형 인증 서버를 구현하도록 요구했으며, MCP 서버는 OAuth 2.0 권한 부여 서버로서 사용자 인증을 직접 관리
- **현재 표준 (2025-11-25)**: 업데이트된 사양은 MCP 서버가 Microsoft Entra ID와 같은 외부 ID 공급자에 인증을 위임할 수 있도록 하여 보안 태세를 개선하고 구현 복잡성을 줄임
- **전송 계층 보안**: 로컬(STDIO) 및 원격(Streamable HTTP) 연결 모두에 적절한 인증 패턴을 갖춘 보안 전송 메커니즘 지원 강화

## 인증 및 권한 부여 보안

### 현재 보안 과제

현대 MCP 구현은 여러 인증 및 권한 부여 과제에 직면해 있습니다:

### 위험 및 위협 벡터

- **잘못 구성된 권한 부여 로직**: MCP 서버의 권한 부여 구현 오류로 민감한 데이터 노출 및 잘못된 접근 제어 적용
- **OAuth 토큰 탈취**: 로컬 MCP 서버 토큰 도난으로 공격자가 서버를 가장해 하위 서비스에 접근
- **토큰 패스스루 취약점**: 부적절한 토큰 처리로 보안 제어 우회 및 책임 추적 공백 발생
- **과도한 권한**: 과도한 권한을 가진 MCP 서버가 최소 권한 원칙을 위반하고 공격 표면 확대

#### 토큰 패스스루: 치명적인 안티 패턴

현재 MCP 권한 부여 사양에서는 심각한 보안 문제로 인해 **토큰 패스스루가 명시적으로 금지**되어 있습니다:

##### 보안 제어 우회
- MCP 서버 및 하위 API는 적절한 토큰 검증에 의존하는 중요한 보안 제어(속도 제한, 요청 검증, 트래픽 모니터링)를 구현
- 클라이언트가 API에 직접 토큰을 사용하는 것은 이러한 필수 보호를 우회하여 보안 아키텍처를 약화

##### 책임 추적 및 감사 문제  
- MCP 서버는 상위에서 발급된 토큰을 사용하는 클라이언트를 구분할 수 없어 감사 추적이 깨짐
- 하위 리소스 서버 로그는 실제 MCP 서버 중개자가 아닌 잘못된 요청 출처를 기록
- 사고 조사 및 규정 준수 감사가 크게 어려워짐

##### 데이터 유출 위험
- 검증되지 않은 토큰 클레임으로 도난당한 토큰을 가진 악의적 행위자가 MCP 서버를 데이터 유출 프록시로 사용 가능
- 신뢰 경계 위반으로 의도된 보안 제어를 우회하는 무단 접근 패턴 발생

##### 다중 서비스 공격 벡터
- 여러 서비스에서 수용되는 탈취된 토큰으로 연결된 시스템 간 측면 이동 가능
- 토큰 출처를 확인할 수 없으면 서비스 간 신뢰 가정이 위배될 수 있음

### 보안 제어 및 완화책

**중요 보안 요구사항:**

> **필수**: MCP 서버는 명시적으로 MCP 서버용으로 발급되지 않은 토큰을 **절대 수락해서는 안 됩니다**

#### 인증 및 권한 부여 제어

- **엄격한 권한 부여 검토**: MCP 서버 권한 부여 로직을 종합적으로 감사하여 의도된 사용자 및 클라이언트만 민감 자원에 접근하도록 보장
  - **구현 가이드**: [Azure API Management를 MCP 서버 인증 게이트웨이로 사용](https://techcommunity.microsoft.com/blog/integrationsonazureblog/azure-api-management-your-auth-gateway-for-mcp-servers/4402690)
  - **ID 통합**: [Microsoft Entra ID를 이용한 MCP 서버 인증](https://den.dev/blog/mcp-server-auth-entra-id-session/)

- **안전한 토큰 관리**: [Microsoft의 토큰 검증 및 수명 주기 모범 사례](https://learn.microsoft.com/en-us/entra/identity-platform/access-tokens) 구현
  - 토큰 대상 클레임이 MCP 서버 ID와 일치하는지 검증
  - 적절한 토큰 회전 및 만료 정책 적용
  - 토큰 재사용 공격 및 무단 사용 방지

- **보호된 토큰 저장소**: 저장 및 전송 중 암호화된 안전한 토큰 저장소 구현
  - **모범 사례**: [안전한 토큰 저장 및 암호화 가이드라인](https://youtu.be/uRdX37EcCwg?si=6fSChs1G4glwXRy2)

#### 접근 제어 구현

- **최소 권한 원칙**: MCP 서버에 의도된 기능 수행에 필요한 최소 권한만 부여
  - 권한 검토 및 업데이트를 정기적으로 수행하여 권한 증가 방지
  - **Microsoft 문서**: [안전한 최소 권한 접근](https://learn.microsoft.com/entra/identity-platform/secure-least-privileged-access)

- **역할 기반 접근 제어(RBAC)**: 세밀한 역할 할당 구현
  - 특정 자원 및 작업에 역할 범위 엄격히 제한
  - 공격 표면을 확장하는 광범위하거나 불필요한 권한 회피

- **지속적 권한 모니터링**: 접근 감사 및 모니터링 지속적 수행
  - 권한 사용 패턴 이상 징후 모니터링
  - 과도하거나 사용하지 않는 권한 신속히 수정

## AI 특유 보안 위협

### 프롬프트 인젝션 및 도구 조작 공격

현대 MCP 구현은 전통적 보안 조치로 완전히 대응할 수 없는 정교한 AI 특유 공격 벡터에 직면해 있습니다:

#### **간접 프롬프트 인젝션 (교차 도메인 프롬프트 인젝션)**

**간접 프롬프트 인젝션**은 MCP 지원 AI 시스템에서 가장 치명적인 취약점 중 하나입니다. 공격자는 외부 콘텐츠—문서, 웹 페이지, 이메일, 데이터 소스—내에 악의적 지시를 삽입하며, AI 시스템은 이를 합법적 명령으로 처리합니다.

**공격 시나리오:**
- **문서 기반 인젝션**: 처리된 문서 내 숨겨진 악의적 지시가 의도치 않은 AI 동작 유발
- **웹 콘텐츠 악용**: 스크랩된 웹 페이지에 포함된 프롬프트가 AI 행동 조작
- **이메일 기반 공격**: 이메일 내 악성 프롬프트가 AI 어시스턴트의 정보 유출 또는 무단 동작 초래
- **데이터 소스 오염**: 손상된 데이터베이스 또는 API가 오염된 콘텐츠를 AI 시스템에 제공

**실제 영향**: 데이터 유출, 개인정보 침해, 유해 콘텐츠 생성, 사용자 상호작용 조작 등이 발생할 수 있습니다. 자세한 분석은 [MCP의 프롬프트 인젝션 (Simon Willison)](https://simonwillison.net/2025/Apr/9/mcp-prompt-injection/)을 참조하세요.

![Prompt Injection Attack Diagram](../../../translated_images/ko/prompt-injection.ed9fbfde297ca877c15bc6daa808681cd3c3dc7bf27bbbda342ef1ba5fc4f52d.png)

#### **도구 중독 공격**

**도구 중독**은 MCP 도구를 정의하는 메타데이터를 겨냥하며, LLM이 도구 설명과 매개변수를 해석하여 실행 결정을 내리는 방식을 악용합니다.

**공격 메커니즘:**
- **메타데이터 조작**: 공격자가 도구 설명, 매개변수 정의, 사용 예제에 악의적 지시 삽입
- **보이지 않는 지시**: AI 모델이 처리하지만 인간 사용자에게는 보이지 않는 도구 메타데이터 내 숨겨진 프롬프트
- **동적 도구 수정("러그 풀")**: 사용자가 승인한 도구가 이후 악의적 동작 수행하도록 변경되어 사용자 인지 불가
- **매개변수 인젝션**: 도구 매개변수 스키마에 삽입된 악성 콘텐츠가 모델 동작에 영향

**호스팅 서버 위험**: 원격 MCP 서버는 도구 정의가 초기 사용자 승인 후 업데이트될 수 있어, 이전에 안전했던 도구가 악성으로 변할 수 있는 위험이 높습니다. 종합 분석은 [도구 중독 공격 (Invariant Labs)](https://invariantlabs.ai/blog/mcp-security-notification-tool-poisoning-attacks)를 참조하세요.

![Tool Injection Attack Diagram](../../../translated_images/ko/tool-injection.3b0b4a6b24de6befe7d3afdeae44138ef005881aebcfc84c6f61369ce31e3640.png)

#### **추가 AI 공격 벡터**

- **교차 도메인 프롬프트 인젝션 (XPIA)**: 여러 도메인의 콘텐츠를 활용해 보안 제어를 우회하는 정교한 공격
- **동적 기능 수정**: 초기 보안 평가를 회피하는 도구 기능의 실시간 변경
- **컨텍스트 윈도우 중독**: 대규모 컨텍스트 윈도우를 조작해 악의적 지시 숨김
- **모델 혼란 공격**: 모델 한계를 악용해 예측 불가능하거나 안전하지 않은 동작 생성

### AI 보안 위험 영향

**고영향 결과:**
- **데이터 유출**: 민감한 기업 또는 개인 데이터의 무단 접근 및 탈취
- **개인정보 침해**: 개인 식별 정보(PII) 및 기밀 비즈니스 데이터 노출  
- **시스템 조작**: 중요 시스템 및 워크플로우의 의도치 않은 변경
- **자격 증명 탈취**: 인증 토큰 및 서비스 자격 증명 손상
- **측면 이동**: 손상된 AI 시스템을 이용한 광범위한 네트워크 공격의 발판

### Microsoft AI 보안 솔루션

#### **AI Prompt Shields: 인젝션 공격에 대한 고급 보호**

Microsoft **AI Prompt Shields**는 직접 및 간접 프롬프트 인젝션 공격에 대해 다중 보안 계층을 통해 포괄적 방어를 제공합니다:

##### **핵심 보호 메커니즘:**

1. **고급 탐지 및 필터링**
   - 기계 학습 알고리즘과 NLP 기법으로 외부 콘텐츠 내 악의적 지시 탐지
   - 문서, 웹 페이지, 이메일, 데이터 소스의 임베디드 위협 실시간 분석
   - 합법적 및 악의적 프롬프트 패턴의 맥락적 이해

2. **스포트라이팅 기법**  
   - 신뢰된 시스템 지시와 잠재적 손상 외부 입력 구분
   - 모델 관련성을 높이면서 악성 콘텐츠를 분리하는 텍스트 변환 방법
   - AI 시스템이 적절한 지시 계층을 유지하고 삽입된 명령 무시하도록 지원

3. **구분자 및 데이터마킹 시스템**
   - 신뢰된 시스템 메시지와 외부 입력 텍스트 간 명확한 경계 정의
   - 신뢰 및 비신뢰 데이터 소스 간 경계를 강조하는 특수 마커
   - 명령 혼동 및 무단 실행 방지

4. **지속적 위협 인텔리전스**
   - Microsoft가 신흥 공격 패턴을 지속 모니터링하고 방어 업데이트
   - 새로운 인젝션 기법 및 공격 벡터에 대한 선제적 위협 사냥
   - 진화하는 위협에 대응하는 정기적 보안 모델 업데이트

5. **Azure Content Safety 통합**
   - 종합 Azure AI Content Safety 제품군의 일부
   - 탈옥 시도, 유해 콘텐츠, 보안 정책 위반 추가 탐지
   - AI 애플리케이션 구성 요소 전반에 걸친 통합 보안 제어

**구현 자료**: [Microsoft Prompt Shields 문서](https://learn.microsoft.com/azure/ai-services/content-safety/concepts/jailbreak-detection)

![Microsoft Prompt Shields Protection](../../../translated_images/ko/prompt-shield.ff5b95be76e9c78c6ec0888206a4a6a0a5ab4bb787832a9eceef7a62fe0138d1.png)


## 고급 MCP 보안 위협

### 세션 하이재킹 취약점

**세션 하이재킹**은 상태를 유지하는 MCP 구현에서 중요한 공격 벡터로, 무단자가 합법적 세션 식별자를 획득하여 클라이언트를 가장하고 무단 동작을 수행할 수 있습니다.

#### **공격 시나리오 및 위험**

- **세션 하이재킹 프롬프트 인젝션**: 도난당한 세션 ID를 가진 공격자가 세션 상태를 공유하는 서버에 악의적 이벤트를 주입하여 유해 동작 유발 또는 민감 데이터 접근 가능
- **직접 가장**: 도난된 세션 ID로 인증을 우회하는 직접 MCP 서버 호출이 가능하여 공격자를 합법 사용자로 처리
- **손상된 재개 가능 스트림**: 공격자가 요청을 조기 종료시켜 합법 클라이언트가 잠재적 악성 콘텐츠로 재개하도록 유도

#### **세션 관리 보안 제어**

**중요 요구사항:**
- **권한 검증**: 권한 부여를 구현하는 MCP 서버는 모든 수신 요청을 반드시 검증해야 하며, 인증을 위해 세션에 의존해서는 안 됩니다.
- **안전한 세션 생성**: 암호학적으로 안전하고 비결정적인 세션 ID를 안전한 난수 생성기를 사용하여 생성해야 합니다.
- **사용자별 바인딩**: 세션 ID를 `<user_id>:<session_id>`와 같은 형식으로 사용자별 정보에 바인딩하여 사용자 간 세션 오용을 방지해야 합니다.
- **세션 수명 주기 관리**: 취약점 노출 시간을 제한하기 위해 적절한 만료, 회전 및 무효화를 구현해야 합니다.
- **전송 보안**: 세션 ID 가로채기를 방지하기 위해 모든 통신에 HTTPS를 필수로 사용해야 합니다.

### 혼란스러운 대리인 문제

**혼란스러운 대리인 문제**는 MCP 서버가 클라이언트와 제3자 서비스 간 인증 프록시 역할을 할 때 발생하며, 정적 클라이언트 ID 악용을 통한 권한 우회 기회를 만듭니다.

#### **공격 메커니즘 및 위험**

- **쿠키 기반 동의 우회**: 이전 사용자 인증으로 생성된 동의 쿠키를 공격자가 조작된 리디렉션 URI가 포함된 악의적 권한 요청에 악용
- **권한 코드 탈취**: 기존 동의 쿠키로 인해 권한 서버가 동의 화면을 건너뛰고 코드를 공격자 제어 엔드포인트로 리디렉션
- **무단 API 접근**: 탈취한 권한 코드를 사용해 명시적 승인 없이 토큰 교환 및 사용자 사칭 가능

#### **완화 전략**

**필수 제어 사항:**
- **명시적 동의 요구**: 정적 클라이언트 ID를 사용하는 MCP 프록시 서버는 동적으로 등록된 각 클라이언트에 대해 사용자 동의를 반드시 받아야 합니다.
- **OAuth 2.1 보안 구현**: 모든 권한 요청에 대해 PKCE(코드 교환 증명)를 포함한 최신 OAuth 보안 모범 사례를 준수해야 합니다.
- **엄격한 클라이언트 검증**: 악용 방지를 위해 리디렉션 URI 및 클라이언트 식별자에 대한 엄격한 검증을 구현해야 합니다.

### 토큰 전달 취약점

**토큰 전달**은 MCP 서버가 클라이언트 토큰을 적절한 검증 없이 수락하고 하위 API로 전달하는 명백한 안티패턴으로, MCP 권한 부여 명세를 위반합니다.

#### **보안 영향**

- **통제 우회**: 클라이언트에서 API로 직접 토큰 사용 시 중요한 속도 제한, 검증 및 모니터링 제어가 우회됨
- **감사 추적 손상**: 상위에서 발급된 토큰으로 인해 클라이언트 식별이 불가능해져 사고 조사 기능 저해
- **프록시 기반 데이터 유출**: 검증되지 않은 토큰으로 악의적 행위자가 서버를 무단 데이터 접근 프록시로 사용 가능
- **신뢰 경계 위반**: 토큰 출처를 확인할 수 없으면 하위 서비스의 신뢰 가정이 깨질 수 있음
- **다중 서비스 공격 확장**: 여러 서비스에서 수락된 손상된 토큰으로 측면 이동 가능

#### **필수 보안 제어**

**비협상 요구사항:**
- **토큰 검증**: MCP 서버는 명시적으로 MCP 서버용으로 발급되지 않은 토큰을 수락해서는 안 됩니다.
- **대상자 검증**: 토큰의 대상자 클레임이 MCP 서버의 신원과 일치하는지 항상 검증해야 합니다.
- **적절한 토큰 수명 주기**: 짧은 수명의 액세스 토큰과 안전한 회전 방식을 구현해야 합니다.


## AI 시스템을 위한 공급망 보안

공급망 보안은 전통적인 소프트웨어 종속성을 넘어 AI 생태계 전체를 포함하도록 진화했습니다. 현대 MCP 구현은 모든 AI 관련 구성 요소를 엄격히 검증하고 모니터링해야 하며, 각 요소는 시스템 무결성을 위협할 수 있는 잠재적 취약점을 내포합니다.

### 확장된 AI 공급망 구성 요소

**전통적 소프트웨어 종속성:**
- 오픈 소스 라이브러리 및 프레임워크
- 컨테이너 이미지 및 기본 시스템
- 개발 도구 및 빌드 파이프라인
- 인프라 구성 요소 및 서비스

**AI 특화 공급망 요소:**
- **기초 모델**: 다양한 공급자로부터 제공되는 사전 학습 모델로 출처 검증 필요
- **임베딩 서비스**: 외부 벡터화 및 의미 검색 서비스
- **컨텍스트 제공자**: 데이터 소스, 지식 베이스, 문서 저장소
- **제3자 API**: 외부 AI 서비스, ML 파이프라인, 데이터 처리 엔드포인트
- **모델 아티팩트**: 가중치, 구성, 미세 조정된 모델 변형
- **학습 데이터 소스**: 모델 학습 및 미세 조정에 사용되는 데이터셋

### 종합 공급망 보안 전략

#### **구성 요소 검증 및 신뢰**
- **출처 검증**: 모든 AI 구성 요소의 출처, 라이선스, 무결성을 통합 전 검증
- **보안 평가**: 모델, 데이터 소스, AI 서비스에 대한 취약점 스캔 및 보안 검토 수행
- **평판 분석**: AI 서비스 제공자의 보안 이력 및 관행 평가
- **규정 준수 검증**: 모든 구성 요소가 조직 보안 및 규제 요구사항을 충족하는지 확인

#### **안전한 배포 파이프라인**
- **자동화된 CI/CD 보안**: 자동화된 배포 파이프라인 전반에 보안 스캔 통합
- **아티팩트 무결성**: 배포되는 모든 아티팩트(코드, 모델, 구성)에 대한 암호학적 검증 구현
- **단계적 배포**: 각 단계에서 보안 검증을 수행하는 점진적 배포 전략 사용
- **신뢰할 수 있는 아티팩트 저장소**: 검증된 안전한 저장소 및 레지스트리에서만 배포

#### **지속적 모니터링 및 대응**
- **종속성 스캔**: 모든 소프트웨어 및 AI 구성 요소 종속성에 대한 지속적 취약점 모니터링
- **모델 모니터링**: 모델 동작, 성능 변화, 보안 이상 징후 지속 평가
- **서비스 상태 추적**: 외부 AI 서비스의 가용성, 보안 사고, 정책 변경 모니터링
- **위협 인텔리전스 통합**: AI 및 ML 보안 위험에 특화된 위협 피드 통합

#### **접근 제어 및 최소 권한**
- **구성 요소별 권한**: 비즈니스 필요에 따라 모델, 데이터, 서비스 접근 제한
- **서비스 계정 관리**: 최소 권한을 가진 전용 서비스 계정 구현
- **네트워크 분할**: AI 구성 요소 격리 및 서비스 간 네트워크 접근 제한
- **API 게이트웨이 제어**: 외부 AI 서비스 접근 제어 및 모니터링을 위한 중앙 API 게이트웨이 사용

#### **사고 대응 및 복구**
- **신속 대응 절차**: 손상된 AI 구성 요소 패치 또는 교체를 위한 확립된 프로세스
- **자격 증명 회전**: 비밀, API 키, 서비스 자격 증명의 자동 회전 시스템
- **롤백 기능**: 이전의 정상 작동 버전으로 신속 복귀 가능
- **공급망 침해 복구**: 상위 AI 서비스 손상에 대응하는 구체적 절차

### 마이크로소프트 보안 도구 및 통합

**GitHub Advanced Security**는 다음을 포함한 종합 공급망 보호 기능을 제공합니다:
- **비밀 스캔**: 저장소 내 자격 증명, API 키, 토큰 자동 탐지
- **종속성 스캔**: 오픈 소스 종속성 및 라이브러리 취약점 평가
- **CodeQL 분석**: 보안 취약점 및 코드 문제에 대한 정적 코드 분석
- **공급망 인사이트**: 종속성 상태 및 보안 현황 가시성 제공

**Azure DevOps 및 Azure Repos 통합:**
- 마이크로소프트 개발 플랫폼 전반에 걸친 원활한 보안 스캔 통합
- AI 워크로드를 위한 Azure Pipelines 내 자동 보안 검사
- 안전한 AI 구성 요소 배포를 위한 정책 시행

**마이크로소프트 내부 관행:**
마이크로소프트는 모든 제품에 걸쳐 광범위한 공급망 보안 관행을 구현하고 있습니다. 자세한 내용은 [The Journey to Secure the Software Supply Chain at Microsoft](https://devblogs.microsoft.com/engineering-at-microsoft/the-journey-to-secure-the-software-supply-chain-at-microsoft/)에서 확인할 수 있습니다.


## 기초 보안 모범 사례

MCP 구현은 조직의 기존 보안 태세를 계승하고 확장합니다. 기초 보안 관행을 강화하면 AI 시스템 및 MCP 배포의 전반적 보안이 크게 향상됩니다.

### 핵심 보안 기본 사항

#### **안전한 개발 관행**
- **OWASP 준수**: [OWASP Top 10](https://owasp.org/www-project-top-ten/) 웹 애플리케이션 취약점 방어
- **AI 특화 보호**: [LLM용 OWASP Top 10](https://genai.owasp.org/download/43299/?tmstv=1731900559)에 대한 제어 구현
- **안전한 비밀 관리**: 토큰, API 키, 민감 구성 데이터를 위한 전용 금고 사용
- **종단 간 암호화**: 모든 애플리케이션 구성 요소 및 데이터 흐름에 안전한 통신 구현
- **입력 검증**: 모든 사용자 입력, API 매개변수, 데이터 소스에 대한 엄격한 검증

#### **인프라 강화**
- **다중 요소 인증**: 모든 관리자 및 서비스 계정에 MFA 필수 적용
- **패치 관리**: 운영 체제, 프레임워크, 종속성에 대한 자동화된 신속한 패치 적용
- **ID 공급자 통합**: 엔터프라이즈 ID 공급자(Microsoft Entra ID, Active Directory)를 통한 중앙 집중식 ID 관리
- **네트워크 분할**: MCP 구성 요소의 논리적 격리로 측면 이동 가능성 제한
- **최소 권한 원칙**: 모든 시스템 구성 요소 및 계정에 최소 권한 부여

#### **보안 모니터링 및 탐지**
- **종합 로깅**: MCP 클라이언트-서버 상호작용을 포함한 AI 애플리케이션 활동 상세 로깅
- **SIEM 통합**: 이상 탐지를 위한 중앙 집중식 보안 정보 및 이벤트 관리
- **행동 분석**: 시스템 및 사용자 행동의 비정상 패턴 탐지를 위한 AI 기반 모니터링
- **위협 인텔리전스**: 외부 위협 피드 및 침해 지표(IOC) 통합
- **사고 대응**: 보안 사고 탐지, 대응, 복구를 위한 명확한 절차

#### **제로 트러스트 아키텍처**
- **절대 신뢰 금지, 항상 검증**: 사용자, 장치, 네트워크 연결에 대한 지속적 검증
- **마이크로 세분화**: 개별 워크로드 및 서비스 격리를 위한 세분화된 네트워크 제어
- **ID 중심 보안**: 네트워크 위치가 아닌 검증된 ID 기반 보안 정책
- **지속적 위험 평가**: 현재 상황 및 행동에 기반한 동적 보안 태세 평가
- **조건부 접근**: 위험 요소, 위치, 장치 신뢰도에 따라 적응하는 접근 제어

### 엔터프라이즈 통합 패턴

#### **마이크로소프트 보안 생태계 통합**
- **Microsoft Defender for Cloud**: 종합 클라우드 보안 태세 관리
- **Azure Sentinel**: AI 워크로드 보호를 위한 클라우드 네이티브 SIEM 및 SOAR 기능
- **Microsoft Entra ID**: 조건부 접근 정책을 갖춘 엔터프라이즈 ID 및 접근 관리
- **Azure Key Vault**: 하드웨어 보안 모듈(HSM) 지원 중앙 집중식 비밀 관리
- **Microsoft Purview**: AI 데이터 소스 및 워크플로우를 위한 데이터 거버넌스 및 규정 준수

#### **규정 준수 및 거버넌스**
- **규제 준수 정렬**: MCP 구현이 산업별 규제 요구사항(GDPR, HIPAA, SOC 2)을 충족하도록 보장
- **데이터 분류**: AI 시스템이 처리하는 민감 데이터의 적절한 분류 및 처리
- **감사 추적**: 규제 준수 및 포렌식 조사를 위한 종합 로깅
- **개인정보 보호 제어**: AI 시스템 아키텍처에 개인정보 보호 설계 원칙 적용
- **변경 관리**: AI 시스템 변경에 대한 보안 검토를 위한 공식 프로세스

이러한 기초 관행은 MCP 특화 보안 제어의 효과를 높이고 AI 기반 애플리케이션에 대한 포괄적 보호를 제공합니다.

## 주요 보안 요점

- **계층화된 보안 접근법**: 기초 보안 관행(안전한 코딩, 최소 권한, 공급망 검증, 지속적 모니터링)과 AI 특화 제어를 결합하여 포괄적 보호 달성
- **AI 특화 위협 환경**: MCP 시스템은 프롬프트 인젝션, 도구 중독, 세션 탈취, 혼란스러운 대리인 문제, 토큰 전달 취약점, 과도한 권한 등 고유 위험에 직면하며 전문적 완화책 필요
- **인증 및 권한 부여 우수성**: 외부 ID 공급자(Microsoft Entra ID)를 통한 강력한 인증 구현, 적절한 토큰 검증 시행, MCP 서버용으로 명시적 발급되지 않은 토큰 절대 수락 금지
- **AI 공격 방지**: Microsoft Prompt Shields 및 Azure Content Safety 배포로 간접 프롬프트 인젝션 및 도구 중독 공격 방어, 도구 메타데이터 검증 및 동적 변경 모니터링 수행
- **세션 및 전송 보안**: 사용자 ID에 바인딩된 암호학적으로 안전하고 비결정적인 세션 ID 사용, 적절한 세션 수명 주기 관리, 인증에 세션 사용 금지
- **OAuth 보안 모범 사례**: 동적으로 등록된 클라이언트에 대해 명시적 사용자 동의 요구, PKCE를 포함한 적절한 OAuth 2.1 구현, 엄격한 리디렉션 URI 검증으로 혼란스러운 대리인 공격 방지
- **토큰 보안 원칙**: 토큰 전달 안티패턴 회피, 토큰 대상자 클레임 검증, 짧은 수명 토큰 및 안전한 회전 구현, 명확한 신뢰 경계 유지
- **종합 공급망 보안**: 모든 AI 생태계 구성 요소(모델, 임베딩, 컨텍스트 제공자, 외부 API)를 전통적 소프트웨어 종속성과 동일한 보안 엄격성으로 취급
- **지속적 진화**: 빠르게 진화하는 MCP 명세를 최신 상태로 유지하고 보안 커뮤니티 표준에 기여하며 프로토콜 성숙에 따라 적응적 보안 태세 유지
- **마이크로소프트 보안 통합**: Microsoft의 종합 보안 생태계(Prompt Shields, Azure Content Safety, GitHub Advanced Security, Entra ID)를 활용하여 MCP 배포 보호 강화

## 종합 자료

### **공식 MCP 보안 문서**
- [MCP 명세 (현재: 2025-11-25)](https://spec.modelcontextprotocol.io/specification/2025-11-25/)
- [MCP 보안 모범 사례](https://modelcontextprotocol.io/specification/2025-11-25/basic/security_best_practices)
- [MCP 권한 부여 명세](https://modelcontextprotocol.io/specification/2025-11-25/basic/authorization)
- [MCP GitHub 저장소](https://github.com/modelcontextprotocol)

### **보안 표준 및 모범 사례**
- [OAuth 2.0 보안 모범 사례 (RFC 9700)](https://datatracker.ietf.org/doc/html/rfc9700)
- [OWASP Top 10 웹 애플리케이션 보안](https://owasp.org/www-project-top-ten/)
- [대형 언어 모델용 OWASP Top 10](https://genai.owasp.org/download/43299/?tmstv=1731900559)
- [Microsoft 디지털 방어 보고서](https://aka.ms/mddr)

### **AI 보안 연구 및 분석**
- [MCP에서의 프롬프트 인젝션 (Simon Willison)](https://simonwillison.net/2025/Apr/9/mcp-prompt-injection/)
- [도구 중독 공격 (Invariant Labs)](https://invariantlabs.ai/blog/mcp-security-notification-tool-poisoning-attacks)
- [MCP 보안 연구 브리핑 (Wiz Security)](https://www.wiz.io/blog/mcp-security-research-briefing#remote-servers-22)

### **Microsoft 보안 솔루션**
- [Microsoft 프롬프트 쉴드 문서](https://learn.microsoft.com/azure/ai-services/content-safety/concepts/jailbreak-detection)
- [Azure 콘텐츠 안전 서비스](https://learn.microsoft.com/azure/ai-services/content-safety/)
- [Microsoft Entra ID 보안](https://learn.microsoft.com/entra/identity-platform/secure-least-privileged-access)
- [Azure 토큰 관리 모범 사례](https://learn.microsoft.com/entra/identity-platform/access-tokens)
- [GitHub 고급 보안](https://github.com/security/advanced-security)

### **구현 가이드 및 튜토리얼**
- [Azure API 관리: MCP 인증 게이트웨이로 사용](https://techcommunity.microsoft.com/blog/integrationsonazureblog/azure-api-management-your-auth-gateway-for-mcp-servers/4402690)
- [Microsoft Entra ID 인증과 MCP 서버](https://den.dev/blog/mcp-server-auth-entra-id-session/)
- [안전한 토큰 저장 및 암호화 (비디오)](https://youtu.be/uRdX37EcCwg?si=6fSChs1G4glwXRy2)

### **DevOps 및 공급망 보안**
- [Azure DevOps 보안](https://azure.microsoft.com/products/devops)
- [Azure Repos 보안](https://azure.microsoft.com/products/devops/repos/)
- [Microsoft 공급망 보안 여정](https://devblogs.microsoft.com/engineering-at-microsoft/the-journey-to-secure-the-software-supply-chain-at-microsoft/)

## **추가 보안 문서**

포괄적인 보안 지침은 이 섹션의 전문 문서를 참조하세요:

- **[MCP 보안 모범 사례 2025](./mcp-security-best-practices-2025.md)** - MCP 구현을 위한 완전한 보안 모범 사례
- **[Azure 콘텐츠 안전 구현](./azure-content-safety-implementation.md)** - Azure 콘텐츠 안전 통합을 위한 실용적 구현 예제  
- **[MCP 보안 통제 2025](./mcp-security-controls-2025.md)** - MCP 배포를 위한 최신 보안 통제 및 기법
- **[MCP 모범 사례 빠른 참조](./mcp-best-practices.md)** - 필수 MCP 보안 관행에 대한 빠른 참조 가이드

---

## 다음 단계

다음: [3장: 시작하기](../03-GettingStarted/README.md)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**면책 조항**:  
이 문서는 AI 번역 서비스 [Co-op Translator](https://github.com/Azure/co-op-translator)를 사용하여 번역되었습니다. 정확성을 위해 최선을 다하고 있으나, 자동 번역에는 오류나 부정확성이 포함될 수 있음을 유의하시기 바랍니다. 원문 문서는 권위 있는 출처로 간주되어야 합니다. 중요한 정보의 경우 전문적인 인간 번역을 권장합니다. 본 번역 사용으로 인한 오해나 잘못된 해석에 대해 당사는 책임을 지지 않습니다.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->
# أمان MCP: الحماية الشاملة لأنظمة الذكاء الاصطناعي

[![أفضل ممارسات أمان MCP](../../../translated_images/ar/03.175aed6dedae133f.webp)](https://youtu.be/88No8pw706o)

_(انقر على الصورة أعلاه لمشاهدة فيديو هذا الدرس)_

الأمان هو أساس تصميم أنظمة الذكاء الاصطناعي، ولهذا نوليه الأولوية كقسمنا الثاني. يتماشى هذا مع مبدأ مايكروسوفت **الأمان حسب التصميم** من [مبادرة المستقبل الآمن](https://www.microsoft.com/security/blog/2025/04/17/microsofts-secure-by-design-journey-one-year-of-success/).

يجلب بروتوكول سياق النموذج (MCP) قدرات جديدة قوية لتطبيقات الذكاء الاصطناعي المدفوعة، مع تقديم تحديات أمان فريدة تتجاوز مخاطر البرمجيات التقليدية. تواجه أنظمة MCP مخاطر أمان معروفة (البرمجة الآمنة، أقل امتياز، أمان سلسلة التوريد) بالإضافة إلى تهديدات خاصة بالذكاء الاصطناعي مثل حقن المطالبات، تسميم الأدوات، اختطاف الجلسات، هجمات الوكيل المشوش، ثغرات تمرير الرموز، وتعديل القدرات الديناميكي.

يستعرض هذا الدرس أهم مخاطر الأمان في تطبيقات MCP—مغطيًا المصادقة، التفويض، الأذونات المفرطة، حقن المطالبات غير المباشر، أمان الجلسات، مشاكل الوكيل المشوش، إدارة الرموز، وثغرات سلسلة التوريد. ستتعلم ضوابط عملية وأفضل الممارسات للتخفيف من هذه المخاطر مع الاستفادة من حلول مايكروسوفت مثل دروع المطالبات، أمان محتوى أزور، وأمان GitHub المتقدم لتعزيز نشر MCP الخاص بك.

## أهداف التعلم

بنهاية هذا الدرس، ستكون قادرًا على:

- **تحديد تهديدات MCP الخاصة**: التعرف على مخاطر الأمان الفريدة في أنظمة MCP بما في ذلك حقن المطالبات، تسميم الأدوات، الأذونات المفرطة، اختطاف الجلسات، مشاكل الوكيل المشوش، ثغرات تمرير الرموز، ومخاطر سلسلة التوريد
- **تطبيق ضوابط الأمان**: تنفيذ التخفيفات الفعالة بما في ذلك المصادقة القوية، الوصول بأقل امتياز، إدارة الرموز الآمنة، ضوابط أمان الجلسات، والتحقق من سلسلة التوريد
- **الاستفادة من حلول أمان مايكروسوفت**: فهم ونشر دروع المطالبات من مايكروسوفت، أمان محتوى أزور، وأمان GitHub المتقدم لحماية أعباء عمل MCP
- **التحقق من أمان الأدوات**: التعرف على أهمية التحقق من بيانات تعريف الأدوات، المراقبة للتغييرات الديناميكية، والدفاع ضد هجمات حقن المطالبات غير المباشر
- **دمج أفضل الممارسات**: الجمع بين أساسيات الأمان المعروفة (البرمجة الآمنة، تقوية الخوادم، الثقة الصفرية) مع ضوابط MCP الخاصة للحماية الشاملة

# هندسة وضوابط أمان MCP

تتطلب تطبيقات MCP الحديثة نهج أمان متعدد الطبقات يعالج كلًا من أمان البرمجيات التقليدي والتهديدات الخاصة بالذكاء الاصطناعي. تستمر مواصفة MCP المتطورة بسرعة في نضج ضوابط الأمان الخاصة بها، مما يتيح تكاملًا أفضل مع هندسة أمان المؤسسات وأفضل الممارسات المعتمدة.

تُظهر أبحاث [تقرير الدفاع الرقمي من مايكروسوفت](https://aka.ms/mddr) أن **98% من الاختراقات المبلغ عنها يمكن منعها من خلال ممارسات أمان قوية**. تجمع استراتيجية الحماية الأكثر فعالية بين ممارسات الأمان الأساسية وضوابط MCP الخاصة—تظل تدابير الأمان الأساسية المثبتة هي الأكثر تأثيرًا في تقليل المخاطر الأمنية الإجمالية.

## المشهد الأمني الحالي

> **ملاحظة:** تعكس هذه المعلومات معايير أمان MCP حتى **18 ديسمبر 2025**. يستمر بروتوكول MCP في التطور السريع، وقد تقدم التطبيقات المستقبلية أنماط مصادقة جديدة وضوابط محسنة. يُرجى دائمًا الرجوع إلى [مواصفة MCP الحالية](https://spec.modelcontextprotocol.io/)، [مستودع MCP على GitHub](https://github.com/modelcontextprotocol)، و[وثائق أفضل ممارسات الأمان](https://modelcontextprotocol.io/specification/2025-11-25/basic/security_best_practices) لأحدث الإرشادات.

### تطور مصادقة MCP

تطورت مواصفة MCP بشكل كبير في نهجها للمصادقة والتفويض:

- **النهج الأصلي**: كانت المواصفات المبكرة تتطلب من المطورين تنفيذ خوادم مصادقة مخصصة، مع عمل خوادم MCP كخوادم تفويض OAuth 2.0 تدير مصادقة المستخدم مباشرة
- **المعيار الحالي (2025-11-25)**: تسمح المواصفة المحدثة لخوادم MCP بتفويض المصادقة لمزودي هوية خارجيين (مثل Microsoft Entra ID)، مما يحسن وضع الأمان ويقلل من تعقيد التنفيذ
- **أمان طبقة النقل**: دعم معزز لآليات النقل الآمن مع أنماط مصادقة مناسبة لكل من الاتصالات المحلية (STDIO) والبعيدة (Streamable HTTP)

## أمان المصادقة والتفويض

### التحديات الأمنية الحالية

تواجه تطبيقات MCP الحديثة عدة تحديات في المصادقة والتفويض:

### المخاطر ومسارات التهديد

- **منطق التفويض غير الصحيح**: تنفيذ تفويض معيب في خوادم MCP يمكن أن يكشف بيانات حساسة ويطبق ضوابط وصول بشكل خاطئ
- **اختراق رموز OAuth**: سرقة رموز خادم MCP المحلي تمكن المهاجمين من انتحال هوية الخوادم والوصول إلى خدمات لاحقة
- **ثغرات تمرير الرموز**: التعامل غير الصحيح مع الرموز يخلق تجاوزات لضوابط الأمان وفجوات في المساءلة
- **الأذونات المفرطة**: خوادم MCP ذات الامتيازات الزائدة تنتهك مبدأ أقل امتياز وتوسع سطح الهجوم

#### تمرير الرموز: نمط مضاد حرج

**تمرير الرموز ممنوع صراحة** في مواصفة تفويض MCP الحالية بسبب تداعيات أمنية خطيرة:

##### تجاوز ضوابط الأمان
- تنفذ خوادم MCP وواجهات برمجة التطبيقات اللاحقة ضوابط أمان حاسمة (تحديد المعدل، التحقق من الطلبات، مراقبة الحركة) تعتمد على التحقق الصحيح من الرموز
- استخدام الرموز مباشرة من العميل إلى API يتجاوز هذه الحمايات الأساسية، مما يقوض هندسة الأمان

##### تحديات المساءلة والتدقيق  
- لا يمكن لخوادم MCP التمييز بين العملاء الذين يستخدمون رموزًا صادرة من الأعلى، مما يكسر مسارات التدقيق
- سجلات خوادم الموارد اللاحقة تظهر مصادر طلبات مضللة بدلاً من وسطاء خوادم MCP الفعليين
- يصبح التحقيق في الحوادث وتدقيق الامتثال أكثر صعوبة بشكل كبير

##### مخاطر تسريب البيانات
- تمكّن مطالبات الرموز غير الموثقة الجهات الخبيثة الحاصلة على رموز مسروقة من استخدام خوادم MCP كوسطاء لتسريب البيانات
- انتهاكات حدود الثقة تسمح بأنماط وصول غير مصرح بها تتجاوز ضوابط الأمان المقصودة

##### مسارات هجوم متعددة الخدمات
- الرموز المخترقة المقبولة من قبل خدمات متعددة تمكن الحركة الجانبية عبر الأنظمة المتصلة
- قد تُنتهك افتراضات الثقة بين الخدمات عندما لا يمكن التحقق من أصول الرموز

### ضوابط الأمان والتخفيفات

**متطلبات أمان حاسمة:**

> **إلزامي**: يجب على خوادم MCP **عدم قبول** أي رموز لم تصدر صراحةً لخادم MCP

#### ضوابط المصادقة والتفويض

- **مراجعة تفويض صارمة**: إجراء تدقيق شامل لمنطق تفويض خادم MCP لضمان وصول المستخدمين والعملاء المقصودين فقط إلى الموارد الحساسة
  - **دليل التنفيذ**: [إدارة API أزور كبوابة مصادقة لخوادم MCP](https://techcommunity.microsoft.com/blog/integrationsonazureblog/azure-api-management-your-auth-gateway-for-mcp-servers/4402690)
  - **تكامل الهوية**: [استخدام Microsoft Entra ID لمصادقة خادم MCP](https://den.dev/blog/mcp-server-auth-entra-id-session/)

- **إدارة الرموز الآمنة**: تنفيذ [أفضل ممارسات مايكروسوفت للتحقق من الرموز ودورة حياتها](https://learn.microsoft.com/en-us/entra/identity-platform/access-tokens)
  - التحقق من تطابق مطالبات جمهور الرموز مع هوية خادم MCP
  - تنفيذ سياسات تدوير وانتهاء صلاحية الرموز المناسبة
  - منع هجمات إعادة تشغيل الرموز والاستخدام غير المصرح به

- **تخزين الرموز المحمي**: تأمين تخزين الرموز بالتشفير أثناء الراحة والنقل
  - **أفضل الممارسات**: [إرشادات تخزين الرموز الآمن والتشفير](https://youtu.be/uRdX37EcCwg?si=6fSChs1G4glwXRy2)

#### تنفيذ ضوابط الوصول

- **مبدأ أقل امتياز**: منح خوادم MCP الحد الأدنى من الأذونات المطلوبة للوظائف المقصودة
  - مراجعات دورية للأذونات وتحديثات لمنع تراكم الامتيازات
  - **وثائق مايكروسوفت**: [الوصول الآمن بأقل امتياز](https://learn.microsoft.com/entra/identity-platform/secure-least-privileged-access)

- **التحكم في الوصول بناءً على الدور (RBAC)**: تنفيذ تعيينات أدوار دقيقة
  - تحديد نطاق الأدوار بدقة للموارد والإجراءات المحددة
  - تجنب الأذونات الواسعة أو غير الضرورية التي توسع سطح الهجوم

- **مراقبة الأذونات المستمرة**: تنفيذ تدقيق ومراقبة وصول مستمرة
  - مراقبة أنماط استخدام الأذونات للكشف عن الشذوذ
  - معالجة سريعة للامتيازات المفرطة أو غير المستخدمة

## تهديدات أمان خاصة بالذكاء الاصطناعي

### هجمات حقن المطالبات والتلاعب بالأدوات

تواجه تطبيقات MCP الحديثة مسارات هجوم متطورة خاصة بالذكاء الاصطناعي لا يمكن للتدابير الأمنية التقليدية التعامل معها بالكامل:

#### **حقن المطالبات غير المباشر (حقن المطالبات عبر النطاقات)**

يمثل **حقن المطالبات غير المباشر** أحد أخطر الثغرات في أنظمة الذكاء الاصطناعي المدعومة بـ MCP. يدمج المهاجمون تعليمات خبيثة ضمن محتوى خارجي—مستندات، صفحات ويب، رسائل بريد إلكتروني، أو مصادر بيانات—تعالجها أنظمة الذكاء الاصطناعي لاحقًا كأوامر شرعية.

**سيناريوهات الهجوم:**
- **الحقن المستند إلى المستندات**: تعليمات خبيثة مخفية في مستندات معالجة تؤدي إلى إجراءات غير مقصودة للذكاء الاصطناعي
- **استغلال محتوى الويب**: صفحات ويب مخترقة تحتوي على مطالبات مضمنة تتحكم في سلوك الذكاء الاصطناعي عند جمع البيانات
- **هجمات البريد الإلكتروني**: مطالبات خبيثة في رسائل البريد الإلكتروني تسبب تسريب معلومات أو تنفيذ إجراءات غير مصرح بها من قبل مساعدي الذكاء الاصطناعي
- **تلوث مصادر البيانات**: قواعد بيانات أو واجهات برمجة تطبيقات مخترقة تقدم محتوى ملوث لأنظمة الذكاء الاصطناعي

**التأثير الواقعي**: يمكن أن تؤدي هذه الهجمات إلى تسريب البيانات، خروقات الخصوصية، توليد محتوى ضار، والتلاعب بتفاعلات المستخدم. لمزيد من التحليل، راجع [حقن المطالبات في MCP (Simon Willison)](https://simonwillison.net/2025/Apr/9/mcp-prompt-injection/).

![مخطط هجوم حقن المطالبات](../../../translated_images/ar/prompt-injection.ed9fbfde297ca877.webp)

#### **هجمات تسميم الأدوات**

يستهدف **تسميم الأدوات** بيانات التعريف التي تحدد أدوات MCP، مستغلاً كيفية تفسير نماذج اللغة الكبيرة لوصف الأدوات والمعلمات لاتخاذ قرارات التنفيذ.

**آليات الهجوم:**
- **تلاعب بيانات التعريف**: يحقن المهاجمون تعليمات خبيثة في أوصاف الأدوات، تعريفات المعلمات، أو أمثلة الاستخدام
- **تعليمات غير مرئية**: مطالبات مخفية في بيانات تعريف الأدوات تعالجها نماذج الذكاء الاصطناعي لكنها غير مرئية للمستخدمين البشر
- **تعديل الأدوات الديناميكي ("سحب السجاد")**: أدوات تمت الموافقة عليها من المستخدمين تُعدل لاحقًا لأداء إجراءات خبيثة دون علم المستخدم
- **حقن المعلمات**: محتوى خبيث مضمن في مخططات معلمات الأدوات يؤثر على سلوك النموذج

**مخاطر الخوادم المستضافة**: تقدم خوادم MCP البعيدة مخاطر مرتفعة حيث يمكن تحديث تعريفات الأدوات بعد موافقة المستخدم الأولية، مما يخلق سيناريوهات تتحول فيها الأدوات الآمنة سابقًا إلى خبيثة. لمزيد من التحليل الشامل، راجع [هجمات تسميم الأدوات (Invariant Labs)](https://invariantlabs.ai/blog/mcp-security-notification-tool-poisoning-attacks).

![مخطط هجوم حقن الأدوات](../../../translated_images/ar/tool-injection.3b0b4a6b24de6bef.webp)

#### **مسارات هجوم إضافية خاصة بالذكاء الاصطناعي**

- **حقن المطالبات عبر النطاقات (XPIA)**: هجمات متطورة تستغل محتوى من مجالات متعددة لتجاوز ضوابط الأمان
- **تعديل القدرات الديناميكي**: تغييرات في الوقت الحقيقي لقدرات الأدوات تهرب من التقييمات الأمنية الأولية
- **تسميم نافذة السياق**: هجمات تتحكم في نوافذ السياق الكبيرة لإخفاء تعليمات خبيثة
- **هجمات إرباك النموذج**: استغلال قيود النموذج لخلق سلوكيات غير متوقعة أو غير آمنة

### تأثير مخاطر أمان الذكاء الاصطناعي

**عواقب عالية التأثير:**
- **تسريب البيانات**: الوصول غير المصرح به وسرقة بيانات المؤسسات أو البيانات الشخصية الحساسة
- **خروقات الخصوصية**: كشف معلومات التعريف الشخصية (PII) وبيانات الأعمال السرية  
- **التلاعب بالنظام**: تعديلات غير مقصودة على الأنظمة والعمليات الحرجة
- **سرقة بيانات الاعتماد**: اختراق رموز المصادقة وبيانات اعتماد الخدمات
- **الحركة الجانبية**: استخدام أنظمة الذكاء الاصطناعي المخترقة كنقاط انطلاق لهجمات أوسع على الشبكة

### حلول أمان الذكاء الاصطناعي من مايكروسوفت

#### **دروع مطالبات الذكاء الاصطناعي: حماية متقدمة ضد هجمات الحقن**

توفر **دروع مطالبات الذكاء الاصطناعي من مايكروسوفت** دفاعًا شاملاً ضد هجمات حقن المطالبات المباشرة وغير المباشرة عبر طبقات أمان متعددة:

##### **آليات الحماية الأساسية:**

1. **الكشف والتصفية المتقدمة**
   - خوارزميات التعلم الآلي وتقنيات معالجة اللغة الطبيعية تكشف التعليمات الخبيثة في المحتوى الخارجي
   - تحليل في الوقت الحقيقي للمستندات، صفحات الويب، رسائل البريد الإلكتروني، ومصادر البيانات للتهديدات المضمنة
   - فهم سياقي لأنماط المطالبات الشرعية مقابل الخبيثة

2. **تقنيات التمييز**  
   - تمييز بين تعليمات النظام الموثوقة والمدخلات الخارجية المحتملة الاختراق
   - طرق تحويل النص التي تعزز صلة النموذج مع عزل المحتوى الخبيث
   - تساعد أنظمة الذكاء الاصطناعي على الحفاظ على تسلسل التعليمات الصحيح وتجاهل الأوامر المحقونة

3. **أنظمة الفواصل والعلامات**
   - تعريف حدود صريحة بين رسائل النظام الموثوقة ونص المدخلات الخارجية
   - علامات خاصة تبرز الحدود بين مصادر البيانات الموثوقة وغير الموثوقة
   - فصل واضح يمنع ارتباك التعليمات وتنفيذ الأوامر غير المصرح بها

4. **معلومات تهديد مستمرة**
   - تراقب مايكروسوفت باستمرار أنماط الهجوم الناشئة وتحدث الدفاعات
   - البحث الاستباقي عن تقنيات حقن جديدة ومسارات هجوم
   - تحديثات منتظمة لنماذج الأمان للحفاظ على الفعالية ضد التهديدات المتطورة

5. **تكامل أمان محتوى أزور**
   - جزء من مجموعة أمان محتوى الذكاء الاصطناعي الشاملة في أزور
   - كشف إضافي لمحاولات كسر الحماية، المحتوى الضار، وانتهاكات سياسات الأمان
   - ضوابط أمان موحدة عبر مكونات تطبيقات الذكاء الاصطناعي

**موارد التنفيذ**: [وثائق دروع مطالبات مايكروسوفت](https://learn.microsoft.com/azure/ai-services/content-safety/concepts/jailbreak-detection)

![حماية دروع مطالبات مايكروسوفت](../../../translated_images/ar/prompt-shield.ff5b95be76e9c78c.webp)


## تهديدات أمان MCP المتقدمة

### ثغرات اختطاف الجلسات

يمثل **اختطاف الجلسات** مسار هجوم حرج في تطبيقات MCP الحالة حيث يحصل أطراف غير مصرح لهم على معرفات جلسات شرعية ويستغلونها لانتحال هوية العملاء وأداء إجراءات غير مصرح بها.

#### **سيناريوهات الهجوم والمخاطر**

- **حقن مطالبات اختطاف الجلسة**: المهاجمون الحاصلون على معرفات جلسات مسروقة يحقنون أحداثًا خبيثة في خوادم تشارك حالة الجلسة، مما قد يؤدي إلى إجراءات ضارة أو الوصول إلى بيانات حساسة
- **انتحال مباشر**: تمكن معرفات الجلسة المسروقة من إجراء مكالمات مباشرة لخادم MCP تتجاوز المصادقة، معاملة المهاجمين كمستخدمين شرعيين
- **تدفقات قابلة للاستئناف مخترقة**: يمكن للمهاجمين إنهاء الطلبات مبكرًا، مما يسبب استئناف العملاء الشرعيين بمحتوى قد يكون خبيثًا

#### **ضوابط الأمان لإدارة الجلسات**

**متطلبات حاسمة:**
- **التحقق من التفويض**: يجب على خوادم MCP التي تنفذ التفويض **التحقق من جميع الطلبات الواردة** ويجب **عدم الاعتماد على الجلسات للمصادقة**
- **توليد جلسات آمنة**: استخدم معرفات جلسة غير حتمية وآمنة تشفيرياً يتم إنشاؤها باستخدام مولدات أرقام عشوائية آمنة
- **ربط خاص بالمستخدم**: اربط معرفات الجلسة بمعلومات خاصة بالمستخدم باستخدام صيغ مثل `<user_id>:<session_id>` لمنع إساءة استخدام الجلسات عبر المستخدمين
- **إدارة دورة حياة الجلسة**: نفذ انتهاء صلاحية وتدوير وإبطال مناسب للحد من نوافذ الضعف
- **أمان النقل**: HTTPS إلزامي لجميع الاتصالات لمنع اعتراض معرفات الجلسة

### مشكلة الوكيل المشوش

تحدث **مشكلة الوكيل المشوش** عندما تعمل خوادم MCP كوسطاء مصادقة بين العملاء والخدمات الخارجية، مما يخلق فرصًا لتجاوز التفويض من خلال استغلال معرفات العميل الثابتة.

#### **آليات الهجوم والمخاطر**

- **تجاوز الموافقة باستخدام الكوكيز**: المصادقة السابقة للمستخدم تنشئ كوكيز موافقة يستغلها المهاجمون عبر طلبات تفويض خبيثة مع عناوين URI إعادة توجيه مصممة
- **سرقة رمز التفويض**: قد تتسبب كوكيز الموافقة الموجودة في تخطي خوادم التفويض لشاشات الموافقة، مع إعادة توجيه الرموز إلى نقاط نهاية يسيطر عليها المهاجم  
- **الوصول غير المصرح به إلى API**: تمكن رموز التفويض المسروقة من تبادل الرموز وانتحال هوية المستخدم دون موافقة صريحة

#### **استراتيجيات التخفيف**

**الضوابط الإلزامية:**
- **متطلبات الموافقة الصريحة**: يجب على خوادم MCP التي تستخدم معرفات عميل ثابتة **الحصول على موافقة المستخدم لكل عميل مسجل ديناميكيًا**
- **تنفيذ أمان OAuth 2.1**: اتبع أفضل ممارسات أمان OAuth الحالية بما في ذلك PKCE (دليل إثبات تبادل الرمز) لجميع طلبات التفويض
- **التحقق الصارم من العميل**: نفذ تحققًا دقيقًا لعناوين URI إعادة التوجيه ومعرفات العميل لمنع الاستغلال

### ثغرات تمرير الرموز  

تمثل **ثغرات تمرير الرموز** نمطًا مضادًا صريحًا حيث تقبل خوادم MCP رموز العملاء دون تحقق مناسب وتعيد توجيهها إلى واجهات برمجة التطبيقات النهائية، مما ينتهك مواصفات تفويض MCP.

#### **تداعيات الأمان**

- **تجاوز الضوابط**: استخدام الرموز مباشرة من العميل إلى API يتجاوز ضوابط تحديد المعدل والتحقق والمراقبة الحيوية
- **فساد سجل التدقيق**: تجعل الرموز الصادرة من المصدر الأعلى تحديد هوية العميل مستحيلة، مما يكسر قدرات التحقيق في الحوادث
- **استخراج البيانات عبر الوكيل**: تمكن الرموز غير الموثقة الجهات الخبيثة من استخدام الخوادم كوسطاء للوصول غير المصرح به إلى البيانات
- **انتهاكات حدود الثقة**: قد تنتهك خدمات الطرف النهائي افتراضات الثقة عندما لا يمكن التحقق من أصول الرموز
- **توسع الهجوم عبر خدمات متعددة**: تمكن الرموز المخترقة المقبولة عبر خدمات متعددة من الحركة الجانبية

#### **الضوابط الأمنية المطلوبة**

**المتطلبات غير القابلة للتفاوض:**
- **التحقق من الرموز**: يجب على خوادم MCP **عدم قبول الرموز التي لم تصدر صراحة لخادم MCP**
- **التحقق من الجمهور**: تحقق دائمًا من أن مطالبات جمهور الرمز تطابق هوية خادم MCP
- **دورة حياة الرمز المناسبة**: نفذ رموز وصول قصيرة العمر مع ممارسات تدوير آمنة


## أمان سلسلة التوريد لأنظمة الذكاء الاصطناعي

تطورت أمان سلسلة التوريد لتشمل أكثر من الاعتماديات البرمجية التقليدية لتشمل النظام البيئي الكامل للذكاء الاصطناعي. يجب على تطبيقات MCP الحديثة التحقق بدقة ومراقبة جميع مكونات الذكاء الاصطناعي، حيث يقدم كل منها نقاط ضعف محتملة قد تعرض سلامة النظام للخطر.

### مكونات موسعة لسلسلة توريد الذكاء الاصطناعي

**اعتماديات البرمجيات التقليدية:**
- المكتبات والأُطُر مفتوحة المصدر
- صور الحاويات والأنظمة الأساسية  
- أدوات التطوير وخطوط بناء البرمجيات
- مكونات البنية التحتية والخدمات

**عناصر سلسلة توريد الذكاء الاصطناعي الخاصة:**
- **النماذج الأساسية**: نماذج مدربة مسبقًا من مزودين مختلفين تتطلب التحقق من المصدر
- **خدمات التضمين**: خدمات التوجيه الخارجي والبحث الدلالي
- **مزودو السياق**: مصادر البيانات، قواعد المعرفة، ومستودعات الوثائق  
- **واجهات برمجة التطبيقات الخارجية**: خدمات الذكاء الاصطناعي الخارجية، خطوط أنابيب التعلم الآلي، ونقاط معالجة البيانات
- **مخرجات النماذج**: الأوزان، التكوينات، ونماذج معدلة بدقة
- **مصادر بيانات التدريب**: مجموعات البيانات المستخدمة في تدريب النماذج وتعديلها

### استراتيجية شاملة لأمان سلسلة التوريد

#### **التحقق من المكونات والثقة**
- **التحقق من المصدر**: تحقق من الأصل والترخيص وسلامة جميع مكونات الذكاء الاصطناعي قبل الدمج
- **تقييم الأمان**: إجراء فحوصات الضعف ومراجعات الأمان للنماذج، مصادر البيانات، وخدمات الذكاء الاصطناعي
- **تحليل السمعة**: تقييم سجل الأمان وممارسات مزودي خدمات الذكاء الاصطناعي
- **التحقق من الامتثال**: ضمان تلبية جميع المكونات لمتطلبات الأمان والتنظيم المؤسسية

#### **خطوط نشر آمنة**  
- **أمان CI/CD الآلي**: دمج فحص الأمان عبر خطوط النشر الآلية
- **سلامة المخرجات**: تنفيذ التحقق التشفيري لجميع المخرجات المنشورة (الكود، النماذج، التكوينات)
- **النشر المرحلي**: استخدام استراتيجيات نشر تدريجية مع التحقق الأمني في كل مرحلة
- **مستودعات مخرجات موثوقة**: النشر فقط من سجلات ومستودعات مخرجات موثوقة ومحققة

#### **المراقبة والاستجابة المستمرة**
- **فحص الاعتماديات**: مراقبة مستمرة للثغرات في جميع اعتماديات البرمجيات ومكونات الذكاء الاصطناعي
- **مراقبة النماذج**: تقييم مستمر لسلوك النماذج، انحراف الأداء، والشذوذات الأمنية
- **تتبع صحة الخدمات**: مراقبة خدمات الذكاء الاصطناعي الخارجية من حيث التوفر، الحوادث الأمنية، وتغييرات السياسات
- **دمج استخبارات التهديدات**: تضمين تغذيات التهديدات الخاصة بأمان الذكاء الاصطناعي والتعلم الآلي

#### **التحكم في الوصول وأقل الامتيازات**
- **أذونات على مستوى المكونات**: تقييد الوصول إلى النماذج، البيانات، والخدمات بناءً على الضرورة العملية
- **إدارة حسابات الخدمة**: تنفيذ حسابات خدمة مخصصة بأدنى الأذونات المطلوبة
- **تقسيم الشبكة**: عزل مكونات الذكاء الاصطناعي وتقييد الوصول الشبكي بين الخدمات
- **ضوابط بوابة API**: استخدام بوابات API مركزية للتحكم والمراقبة على الوصول إلى خدمات الذكاء الاصطناعي الخارجية

#### **الاستجابة للحوادث والتعافي**
- **إجراءات استجابة سريعة**: عمليات معتمدة لترقيع أو استبدال مكونات الذكاء الاصطناعي المخترقة
- **تدوير بيانات الاعتماد**: أنظمة آلية لتدوير الأسرار، مفاتيح API، وبيانات اعتماد الخدمة
- **قدرات التراجع**: القدرة على الرجوع السريع إلى نسخ سابقة معروفة وصالحة من مكونات الذكاء الاصطناعي
- **التعافي من خروقات سلسلة التوريد**: إجراءات محددة للاستجابة لاختراقات خدمات الذكاء الاصطناعي العليا

### أدوات أمان مايكروسوفت والتكامل

يوفر **GitHub Advanced Security** حماية شاملة لسلسلة التوريد تشمل:
- **فحص الأسرار**: الكشف الآلي عن بيانات الاعتماد، مفاتيح API، والرموز في المستودعات
- **فحص الاعتماديات**: تقييم الثغرات للاعتماديات والمكتبات مفتوحة المصدر
- **تحليل CodeQL**: تحليل ثابت للكود للكشف عن الثغرات الأمنية ومشاكل الترميز
- **رؤى سلسلة التوريد**: رؤية لحالة الاعتماديات الصحية والأمنية

**تكامل Azure DevOps وAzure Repos:**
- تكامل سلس لفحص الأمان عبر منصات تطوير مايكروسوفت
- فحوصات أمان آلية في خطوط أنابيب Azure لأحمال عمل الذكاء الاصطناعي
- تطبيق السياسات لنشر مكونات الذكاء الاصطناعي الآمنة

**ممارسات مايكروسوفت الداخلية:**
تطبق مايكروسوفت ممارسات أمان سلسلة توريد واسعة عبر جميع المنتجات. تعرف على الأساليب المثبتة في [الرحلة لتأمين سلسلة توريد البرمجيات في مايكروسوفت](https://devblogs.microsoft.com/engineering-at-microsoft/the-journey-to-secure-the-software-supply-chain-at-microsoft/).


## أفضل ممارسات أمان الأساسيات

ترث تطبيقات MCP وتعزز وضع الأمان الحالي لمؤسستك. يعزز تقوية ممارسات الأمان الأساسية بشكل كبير الأمان العام لأنظمة الذكاء الاصطناعي ونشر MCP.

### أساسيات الأمان الجوهرية

#### **ممارسات التطوير الآمن**
- **الامتثال لـ OWASP**: الحماية من [أعلى 10 ثغرات OWASP](https://owasp.org/www-project-top-ten/) في تطبيقات الويب
- **حمايات خاصة بالذكاء الاصطناعي**: تنفيذ ضوابط لـ [أعلى 10 ثغرات OWASP للنماذج اللغوية الكبيرة](https://genai.owasp.org/download/43299/?tmstv=1731900559)
- **إدارة الأسرار الآمنة**: استخدام خزائن مخصصة للرموز، مفاتيح API، وبيانات التكوين الحساسة
- **التشفير من الطرف إلى الطرف**: تنفيذ اتصالات آمنة عبر جميع مكونات التطبيق وتدفقات البيانات
- **التحقق من المدخلات**: تحقق صارم لجميع مدخلات المستخدم، معلمات API، ومصادر البيانات

#### **تحصين البنية التحتية**
- **المصادقة متعددة العوامل**: إلزامية MFA لجميع الحسابات الإدارية وحسابات الخدمة
- **إدارة الترقيع**: ترقية آلية وفي الوقت المناسب لأنظمة التشغيل، الأُطُر، والاعتماديات  
- **تكامل مزود الهوية**: إدارة هوية مركزية عبر مزودي الهوية المؤسسية (Microsoft Entra ID، Active Directory)
- **تقسيم الشبكة**: عزل منطقي لمكونات MCP للحد من إمكانية الحركة الجانبية
- **مبدأ أقل الامتيازات**: منح أدنى الأذونات المطلوبة لجميع مكونات النظام والحسابات

#### **المراقبة والكشف الأمني**
- **تسجيل شامل**: تسجيل مفصل لأنشطة تطبيقات الذكاء الاصطناعي، بما في ذلك تفاعلات عميل-خادم MCP
- **تكامل SIEM**: إدارة مركزية لمعلومات الأمان والأحداث للكشف عن الشذوذ
- **تحليلات سلوكية**: مراقبة مدعومة بالذكاء الاصطناعي للكشف عن أنماط غير عادية في سلوك النظام والمستخدم
- **استخبارات التهديدات**: دمج تغذيات التهديدات الخارجية ومؤشرات الاختراق (IOCs)
- **الاستجابة للحوادث**: إجراءات محددة لاكتشاف الحوادث الأمنية والاستجابة لها والتعافي

#### **هندسة الثقة الصفرية**
- **لا تثق أبدًا، تحقق دائمًا**: تحقق مستمر من المستخدمين، الأجهزة، والاتصالات الشبكية
- **التقسيم الدقيق**: ضوابط شبكية دقيقة تعزل الأحمال والخدمات الفردية
- **أمان مركز على الهوية**: سياسات أمان تعتمد على الهويات الموثقة بدلاً من الموقع الشبكي
- **تقييم المخاطر المستمر**: تقييم ديناميكي للوضع الأمني بناءً على السياق والسلوك الحالي
- **الوصول الشرطي**: ضوابط وصول تتكيف بناءً على عوامل المخاطر، الموقع، وثقة الجهاز

### أنماط التكامل المؤسسي

#### **تكامل نظام أمان مايكروسوفت**
- **Microsoft Defender for Cloud**: إدارة شاملة لوضع أمان السحابة
- **Azure Sentinel**: قدرات SIEM وSOAR أصلية للسحابة لحماية أحمال عمل الذكاء الاصطناعي
- **Microsoft Entra ID**: إدارة هوية والوصول المؤسسية مع سياسات الوصول الشرطي
- **Azure Key Vault**: إدارة مركزية للأسرار مدعومة بوحدة أمان الأجهزة (HSM)
- **Microsoft Purview**: حوكمة البيانات والامتثال لمصادر بيانات الذكاء الاصطناعي وسير العمل

#### **الامتثال والحوكمة**
- **الامتثال التنظيمي**: ضمان تلبية تطبيقات MCP لمتطلبات الامتثال الخاصة بالصناعة (GDPR، HIPAA، SOC 2)
- **تصنيف البيانات**: تصنيف ومعالجة مناسبة للبيانات الحساسة التي تعالجها أنظمة الذكاء الاصطناعي
- **سجلات التدقيق**: تسجيل شامل للامتثال التنظيمي والتحقيق الجنائي
- **ضوابط الخصوصية**: تنفيذ مبادئ الخصوصية حسب التصميم في هندسة أنظمة الذكاء الاصطناعي
- **إدارة التغيير**: عمليات رسمية لمراجعات الأمان لتعديلات أنظمة الذكاء الاصطناعي

تخلق هذه الممارسات الأساسية قاعدة أمان قوية تعزز فعالية ضوابط أمان MCP المحددة وتوفر حماية شاملة لتطبيقات الذكاء الاصطناعي.

## النقاط الرئيسية لأمان MCP

- **نهج أمان متعدد الطبقات**: دمج ممارسات الأمان الأساسية (الترميز الآمن، أقل الامتيازات، التحقق من سلسلة التوريد، المراقبة المستمرة) مع ضوابط خاصة بالذكاء الاصطناعي للحماية الشاملة

- **مخاطر خاصة بالذكاء الاصطناعي**: تواجه أنظمة MCP مخاطر فريدة تشمل حقن المطالبات، تسميم الأدوات، اختطاف الجلسات، مشكلة الوكيل المشوش، ثغرات تمرير الرموز، والصلاحيات المفرطة التي تتطلب تخفيفات متخصصة

- **تميز المصادقة والتفويض**: تنفيذ مصادقة قوية باستخدام مزودي هوية خارجيين (Microsoft Entra ID)، فرض تحقق صحيح من الرموز، وعدم قبول الرموز غير الصادرة صراحة لخادم MCP الخاص بك

- **منع هجمات الذكاء الاصطناعي**: نشر Microsoft Prompt Shields وAzure Content Safety للدفاع ضد حقن المطالبات غير المباشر وهجمات تسميم الأدوات، مع التحقق من بيانات تعريف الأدوات والمراقبة للتغييرات الديناميكية

- **أمان الجلسة والنقل**: استخدام معرفات جلسة آمنة تشفيرياً وغير حتمية مرتبطة بهويات المستخدمين، تنفيذ إدارة دورة حياة الجلسة المناسبة، وعدم استخدام الجلسات للمصادقة

- **أفضل ممارسات أمان OAuth**: منع هجمات الوكيل المشوش من خلال موافقة صريحة للمستخدم للعملاء المسجلين ديناميكيًا، تنفيذ OAuth 2.1 بشكل صحيح مع PKCE، والتحقق الصارم من عناوين URI إعادة التوجيه  

- **مبادئ أمان الرموز**: تجنب نمط تمرير الرموز المضاد، تحقق من مطالبات جمهور الرموز، نفذ رموز قصيرة العمر مع تدوير آمن، وحافظ على حدود ثقة واضحة

- **أمان سلسلة التوريد الشامل**: تعامل مع جميع مكونات نظام الذكاء الاصطناعي (النماذج، التضمينات، مزودي السياق، واجهات برمجة التطبيقات الخارجية) بنفس الصرامة الأمنية كاعتماديات البرمجيات التقليدية

- **التطور المستمر**: تابع أحدث مواصفات MCP المتطورة بسرعة، وساهم في معايير مجتمع الأمان، وحافظ على مواقف أمان متكيفة مع نضوج البروتوكول

- **تكامل أمان مايكروسوفت**: استفد من نظام أمان مايكروسوفت الشامل (Prompt Shields، Azure Content Safety، GitHub Advanced Security، Entra ID) لتعزيز حماية نشر MCP

## موارد شاملة

### **الوثائق الرسمية لأمان MCP**
- [مواصفة MCP (الحالية: 2025-11-25)](https://spec.modelcontextprotocol.io/specification/2025-11-25/)
- [أفضل ممارسات أمان MCP](https://modelcontextprotocol.io/specification/2025-11-25/basic/security_best_practices)
- [مواصفة تفويض MCP](https://modelcontextprotocol.io/specification/2025-11-25/basic/authorization)
- [مستودع MCP على GitHub](https://github.com/modelcontextprotocol)

### **معايير الأمان وأفضل الممارسات**
- [أفضل ممارسات أمان OAuth 2.0 (RFC 9700)](https://datatracker.ietf.org/doc/html/rfc9700)
- [أعلى 10 ثغرات أمان تطبيقات الويب OWASP](https://owasp.org/www-project-top-ten/)
- [أعلى 10 ثغرات OWASP للنماذج اللغوية الكبيرة](https://genai.owasp.org/download/43299/?tmstv=1731900559)
- [تقرير الدفاع الرقمي لمايكروسوفت](https://aka.ms/mddr)

### **أبحاث وتحليلات أمان الذكاء الاصطناعي**
- [حقن المطالبات في MCP (Simon Willison)](https://simonwillison.net/2025/Apr/9/mcp-prompt-injection/)
- [هجمات تسميم الأدوات (Invariant Labs)](https://invariantlabs.ai/blog/mcp-security-notification-tool-poisoning-attacks)
- [موجز أبحاث أمان MCP (Wiz Security)](https://www.wiz.io/blog/mcp-security-research-briefing#remote-servers-22)

### **حلول أمان مايكروسوفت**
- [توثيق دروع موجه مايكروسوفت](https://learn.microsoft.com/azure/ai-services/content-safety/concepts/jailbreak-detection)
- [خدمة أمان المحتوى في أزور](https://learn.microsoft.com/azure/ai-services/content-safety/)
- [أمان Microsoft Entra ID](https://learn.microsoft.com/entra/identity-platform/secure-least-privileged-access)
- [أفضل ممارسات إدارة الرموز في أزور](https://learn.microsoft.com/entra/identity-platform/access-tokens)
- [أمان GitHub المتقدم](https://github.com/security/advanced-security)

### **أدلة التنفيذ والدروس التعليمية**
- [إدارة واجهة برمجة التطبيقات في أزور كبوابة مصادقة MCP](https://techcommunity.microsoft.com/blog/integrationsonazureblog/azure-api-management-your-auth-gateway-for-mcp-servers/4402690)
- [مصادقة Microsoft Entra ID مع خوادم MCP](https://den.dev/blog/mcp-server-auth-entra-id-session/)
- [تخزين الرموز الآمن والتشفير (فيديو)](https://youtu.be/uRdX37EcCwg?si=6fSChs1G4glwXRy2)

### **أمان DevOps وسلسلة التوريد**
- [أمان Azure DevOps](https://azure.microsoft.com/products/devops)
- [أمان Azure Repos](https://azure.microsoft.com/products/devops/repos/)
- [رحلة أمان سلسلة التوريد في مايكروسوفت](https://devblogs.microsoft.com/engineering-at-microsoft/the-journey-to-secure-the-software-supply-chain-at-microsoft/)

## **توثيق أمان إضافي**

للحصول على إرشادات أمان شاملة، راجع هذه الوثائق المتخصصة في هذا القسم:

- **[أفضل ممارسات أمان MCP 2025](./mcp-security-best-practices-2025.md)** - أفضل الممارسات الأمنية الكاملة لتطبيقات MCP
- **[تنفيذ أمان محتوى أزور](./azure-content-safety-implementation.md)** - أمثلة تطبيقية لدمج أمان محتوى أزور  
- **[ضوابط أمان MCP 2025](./mcp-security-controls-2025.md)** - أحدث الضوابط والتقنيات الأمنية لنشر MCP
- **[مرجع سريع لأفضل ممارسات MCP](./mcp-best-practices.md)** - دليل مرجعي سريع لممارسات أمان MCP الأساسية

---

## ما التالي

التالي: [الفصل 3: البدء](../03-GettingStarted/README.md)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**إخلاء المسؤولية**:  
تمت ترجمة هذا المستند باستخدام خدمة الترجمة الآلية [Co-op Translator](https://github.com/Azure/co-op-translator). بينما نسعى لتحقيق الدقة، يرجى العلم أن الترجمات الآلية قد تحتوي على أخطاء أو عدم دقة. يجب اعتبار المستند الأصلي بلغته الأصلية المصدر الموثوق به. للمعلومات الهامة، يُنصح بالترجمة البشرية المهنية. نحن غير مسؤولين عن أي سوء فهم أو تفسير ناتج عن استخدام هذه الترجمة.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->
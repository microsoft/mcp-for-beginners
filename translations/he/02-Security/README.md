# אבטחת MCP: הגנה מקיפה למערכות בינה מלאכותית

[![הנחיות אבטחת MCP](../../../translated_images/he/03.175aed6dedae133f9d41e49cefd0f0a9a39c3317e1eaa7ef7182696af7534308.png)](https://youtu.be/88No8pw706o)

_(לחצו על התמונה למעלה לצפייה בסרטון של השיעור)_

אבטחה היא יסוד בעיצוב מערכות בינה מלאכותית, ולכן אנו מקדישים לה עדיפות כסעיף השני שלנו. זה תואם את עקרון **Secure by Design** של מיקרוסופט מתוך [יוזמת העתיד המאובטח](https://www.microsoft.com/security/blog/2025/04/17/microsofts-secure-by-design-journey-one-year-of-success/).

פרוטוקול הקשר למודל (MCP) מביא יכולות חדשות וחזקות ליישומים מונעי בינה מלאכותית, תוך הצגת אתגרי אבטחה ייחודיים החורגים מסיכוני תוכנה מסורתיים. מערכות MCP מתמודדות עם חששות אבטחה מוכרים (קידוד מאובטח, עיקרון ההרשאה המינימלית, אבטחת שרשרת האספקה) וכן עם איומים ספציפיים לבינה מלאכותית הכוללים הזרקת פקודות, הרעלת כלים, חטיפת מושבים, התקפות confused deputy, פגיעויות בהעברת אסימונים ושינוי דינמי של יכולות.

שיעור זה בוחן את סיכוני האבטחה הקריטיים ביותר ביישומי MCP — כולל אימות, הרשאות, הרשאות מופרזות, הזרקת פקודות עקיפה, אבטחת מושבים, בעיות confused deputy, ניהול אסימונים ופגיעויות בשרשרת האספקה. תלמדו אמצעי בקרה ונהלים מומלצים ליישום להפחתת סיכונים אלה תוך שימוש בפתרונות מיקרוסופט כמו Prompt Shields, Azure Content Safety ו-GitHub Advanced Security לחיזוק פריסת MCP שלכם.

## מטרות הלמידה

בסיום שיעור זה תוכלו:

- **לזהות איומים ספציפיים ל-MCP**: להכיר סיכוני אבטחה ייחודיים במערכות MCP כולל הזרקת פקודות, הרעלת כלים, הרשאות מופרזות, חטיפת מושבים, בעיות confused deputy, פגיעויות בהעברת אסימונים וסיכוני שרשרת אספקה
- **ליישם אמצעי אבטחה**: להטמיע הפחתות יעילות הכוללות אימות חזק, גישת הרשאה מינימלית, ניהול אסימונים מאובטח, בקרות אבטחת מושבים ואימות שרשרת אספקה
- **לנצל פתרונות אבטחה של מיקרוסופט**: להבין ולפרוס את Microsoft Prompt Shields, Azure Content Safety ו-GitHub Advanced Security להגנת עומסי עבודה של MCP
- **לאמת אבטחת כלים**: להכיר את חשיבות אימות מטא-נתוני כלים, ניטור שינויים דינמיים והגנה מפני התקפות הזרקת פקודות עקיפות
- **לשלב נהלים מומלצים**: לשלב יסודות אבטחה מבוססים (קידוד מאובטח, חיזוק שרתים, אמון אפס) עם בקרות ספציפיות ל-MCP להגנה מקיפה

# ארכיטקטורת אבטחת MCP ובקרות

יישומי MCP מודרניים דורשים גישות אבטחה רב-שכבתיות המתייחסות הן לאבטחת תוכנה מסורתית והן לאיומים ספציפיים לבינה מלאכותית. מפרט MCP המתפתח במהירות ממשיך לבסס את בקרות האבטחה שלו, ומאפשר אינטגרציה טובה יותר עם ארכיטקטורות אבטחה ארגוניות ונהלים מומלצים מבוססים.

מחקר מדו"ח [Microsoft Digital Defense Report](https://aka.ms/mddr) מראה כי **98% מהפריצות המדווחות נמנעו על ידי היגיינת אבטחה חזקה**. אסטרטגיית ההגנה היעילה ביותר משלבת נהלי אבטחה בסיסיים עם בקרות ספציפיות ל-MCP — אמצעי אבטחה בסיסיים מוכחים נשארים בעלי ההשפעה הגדולה ביותר בהפחתת סיכון אבטחה כולל.

## נוף האבטחה הנוכחי

> **הערה:** מידע זה משקף את תקני האבטחה של MCP נכון ל-**18 בדצמבר 2025**. פרוטוקול MCP ממשיך להתפתח במהירות, ויישומים עתידיים עשויים להציג דפוסי אימות חדשים ובקרות משופרות. יש לעיין תמיד ב-[מפרט MCP הנוכחי](https://spec.modelcontextprotocol.io/), [מאגר GitHub של MCP](https://github.com/modelcontextprotocol) וב[תיעוד נהלי אבטחה מומלצים](https://modelcontextprotocol.io/specification/2025-11-25/basic/security_best_practices) לקבלת ההנחיות העדכניות.

### התפתחות אימות MCP

מפרט MCP התפתח משמעותית בגישתו לאימות והרשאה:

- **גישה מקורית**: מפרטים מוקדמים דרשו מהמפתחים ליישם שרתי אימות מותאמים אישית, כאשר שרתי MCP פועלים כשרתי OAuth 2.0 לניהול אימות משתמשים ישיר
- **תקן נוכחי (2025-11-25)**: מפרט מעודכן מאפשר לשרתי MCP להאציל אימות לספקי זהות חיצוניים (כגון Microsoft Entra ID), משפר את עמדת האבטחה ומפחית את מורכבות היישום
- **אבטחת שכבת תעבורה**: תמיכה משופרת במנגנוני תעבורה מאובטחים עם דפוסי אימות נכונים לחיבורים מקומיים (STDIO) ומרוחקים (Streamable HTTP)

## אבטחת אימות והרשאה

### אתגרי אבטחה נוכחיים

יישומי MCP מודרניים מתמודדים עם מספר אתגרים באימות והרשאה:

### סיכונים ווקטורי איומים

- **לוגיקת הרשאה שגויה**: יישום הרשאה לקוי בשרתי MCP עלול לחשוף נתונים רגישים וליישם בקרות גישה בצורה שגויה
- **פגיעה באסימון OAuth**: גניבת אסימון משרת MCP מקומי מאפשרת לתוקפים להעמיד פנים כשרתים ולגשת לשירותים במורד הזרם
- **פגיעויות בהעברת אסימונים**: טיפול לא תקין באסימונים יוצר עקיפות בקרות אבטחה ופערי אחריות
- **הרשאות מופרזות**: שרתי MCP עם הרשאות יתר מפרים את עקרון ההרשאה המינימלית ומרחיבים את משטחי התקיפה

#### העברת אסימונים: אנטי-תבנית קריטית

**העברת אסימונים אסורה במפורש** במפרט ההרשאה הנוכחי של MCP עקב השלכות אבטחה חמורות:

##### עקיפת בקרות אבטחה
- שרתי MCP ו-API במורד הזרם מיישמים בקרות אבטחה קריטיות (הגבלת קצב, אימות בקשות, ניטור תעבורה) התלויות באימות אסימונים תקין
- שימוש ישיר באסימונים מלקוח ל-API עוקף הגנות חיוניות אלה, ומחליש את ארכיטקטורת האבטחה

##### אתגרי אחריות וביקורת  
- שרתי MCP אינם יכולים להבחין בין לקוחות המשתמשים באסימונים שהונפקו במעלה הזרם, מה שמפר את מסלולי הביקורת
- יומני שרת המשאבים במורד הזרם מציגים מקורות בקשות מטעות במקום מתווכים בפועל של שרת MCP
- חקירת אירועים וביקורת תאימות הופכים לקשים משמעותית

##### סיכוני דליפת נתונים
- טענות אסימון לא מאומתות מאפשרות לתוקפים עם אסימונים גנובים להשתמש בשרתי MCP כפרוקסי לדליפת נתונים
- הפרות גבולות אמון מאפשרות דפוסי גישה לא מורשים העוקפים בקרות אבטחה מיועדות

##### וקטורי התקפה מרובי שירותים
- אסימונים פגועים שמתקבלים על ידי שירותים מרובים מאפשרים תנועה רוחבית בין מערכות מחוברות
- הנחות אמון בין שירותים עלולות להיפרץ כאשר לא ניתן לאמת את מקורות האסימונים

### בקרות אבטחה והפחתות

**דרישות אבטחה קריטיות:**

> **חובה**: שרתי MCP **אסור שיקבלו** אסימונים שלא הונפקו במפורש עבור שרת MCP

#### בקרות אימות והרשאה

- **סקירת הרשאה קפדנית**: עריכת ביקורות מקיפות על לוגיקת ההרשאה של שרת MCP כדי להבטיח שרק משתמשים ולקוחות מיועדים יוכלו לגשת למשאבים רגישים
  - **מדריך יישום**: [ניהול API של Azure כשער אימות לשרתי MCP](https://techcommunity.microsoft.com/blog/integrationsonazureblog/azure-api-management-your-auth-gateway-for-mcp-servers/4402690)
  - **אינטגרציית זהות**: [שימוש ב-Microsoft Entra ID לאימות שרת MCP](https://den.dev/blog/mcp-server-auth-entra-id-session/)

- **ניהול אסימונים מאובטח**: יישום [נהלי אימות ואורך חיים של אסימונים של מיקרוסופט](https://learn.microsoft.com/en-us/entra/identity-platform/access-tokens)
  - אימות טענות קהל האסימון התואמות לזהות שרת MCP
  - יישום מדיניות סיבוב ותפוגה נכונה של אסימונים
  - מניעת התקפות השמעת אסימונים ושימוש לא מורשה

- **אחסון אסימונים מוגן**: אחסון אסימונים מוצפן במנוחה ובתעבורה
  - **נהלים מומלצים**: [הנחיות לאחסון ואבטחת אסימונים](https://youtu.be/uRdX37EcCwg?si=6fSChs1G4glwXRy2)

#### יישום בקרת גישה

- **עיקרון ההרשאה המינימלית**: הענקת הרשאות מינימליות בלבד לשרתי MCP הדרושות לתפקוד המיועד
  - סקירות ועדכוני הרשאות סדירים למניעת הצטברות הרשאות מיותרות
  - **תיעוד מיקרוסופט**: [גישה מאובטחת עם הרשאות מינימליות](https://learn.microsoft.com/entra/identity-platform/secure-least-privileged-access)

- **בקרת גישה מבוססת תפקידים (RBAC)**: יישום הקצאות תפקידים מדויקות
  - הגבלת תפקידים למשאבים ופעולות ספציפיות
  - הימנעות מהרשאות רחבות או מיותרות המרחיבות משטחי התקיפה

- **ניטור מתמשך של הרשאות**: יישום ביקורת וניטור גישה שוטפים
  - מעקב אחר דפוסי שימוש בהרשאות לזיהוי חריגות
  - תיקון מהיר של הרשאות מופרזות או לא בשימוש

## איומי אבטחה ספציפיים לבינה מלאכותית

### התקפות הזרקת פקודות ומניפולציית כלים

יישומי MCP מודרניים מתמודדים עם וקטורי התקפה מתוחכמים ספציפיים לבינה מלאכותית שאמצעי אבטחה מסורתיים אינם יכולים להתמודד איתם במלואם:

#### **הזרקת פקודות עקיפה (הזרקת פקודות חוצת תחומים)**

**הזרקת פקודות עקיפה** היא אחת הפגיעויות הקריטיות ביותר במערכות AI מופעלות MCP. תוקפים משבצים הוראות זדוניות בתוך תוכן חיצוני — מסמכים, דפי אינטרנט, אימיילים או מקורות נתונים — שהמערכות מעבדות לאחר מכן כפקודות לגיטימיות.

**תרחישי התקפה:**
- **הזרקה מבוססת מסמכים**: הוראות זדוניות מוסתרות במסמכים מעובדים שמפעילות פעולות AI בלתי רצויות
- **ניצול תוכן אינטרנט**: דפי אינטרנט פגועים המכילים פקודות מוטמעות שמניעות התנהגות AI בעת סריקה
- **התקפות מבוססות אימייל**: פקודות זדוניות באימיילים שגורמות לעוזרי AI לדלוף מידע או לבצע פעולות לא מורשות
- **זיהום מקורות נתונים**: מסדי נתונים או API פגועים המספקים תוכן נגוע למערכות AI

**השפעה בעולם האמיתי**: התקפות אלו עלולות לגרום לדליפת נתונים, הפרות פרטיות, יצירת תוכן מזיק ומניפולציה של אינטראקציות משתמש. לניתוח מפורט ראו [Prompt Injection ב-MCP (Simon Willison)](https://simonwillison.net/2025/Apr/9/mcp-prompt-injection/).

![תרשים התקפת הזרקת פקודות](../../../translated_images/he/prompt-injection.ed9fbfde297ca877c15bc6daa808681cd3c3dc7bf27bbbda342ef1ba5fc4f52d.png)

#### **התקפות הרעלת כלים**

**הרעלת כלים** מכוונת למטא-נתונים המגדירים את כלי MCP, ומנצלת את האופן שבו מודלים גדולים מפרשים תיאורי כלים ופרמטרים לקבלת החלטות ביצוע.

**מנגנוני התקפה:**
- **מניפולציית מטא-נתונים**: תוקפים מזריקים הוראות זדוניות לתיאורי כלים, הגדרות פרמטרים או דוגמאות שימוש
- **הוראות בלתי נראות**: פקודות מוסתרות במטא-נתוני הכלים המעובדים על ידי מודלים אך בלתי נראות למשתמשים אנושיים
- **שינוי דינמי של כלים ("משיכות שטיח")**: כלים שאושרו על ידי משתמשים משתנים לאחר מכן לביצוע פעולות זדוניות ללא ידיעת המשתמש
- **הזרקת פרמטרים**: תוכן זדוני מוטמע בסכמות פרמטרים המשפיעות על התנהגות המודל

**סיכוני שרתים מתארחים**: שרתי MCP מרוחקים מציגים סיכונים מוגברים מכיוון שהגדרות הכלים יכולות להתעדכן לאחר אישור המשתמש, ויוצרים תרחישים שבהם כלים שבעבר היו בטוחים הופכים לזדוניים. לניתוח מקיף ראו [התקפות הרעלת כלים (Invariant Labs)](https://invariantlabs.ai/blog/mcp-security-notification-tool-poisoning-attacks).

![תרשים התקפת הזרקת כלים](../../../translated_images/he/tool-injection.3b0b4a6b24de6befe7d3afdeae44138ef005881aebcfc84c6f61369ce31e3640.png)

#### **וקטורי התקפה נוספים בבינה מלאכותית**

- **הזרקת פקודות חוצת תחומים (XPIA)**: התקפות מתוחכמות המנצלות תוכן ממספר תחומים לעקיפת בקרות אבטחה
- **שינוי דינמי של יכולות**: שינויים בזמן אמת ביכולות כלים החומקים מהערכת אבטחה ראשונית
- **הרעלת חלון הקשר**: התקפות המנצלות חלונות הקשר גדולים להסתיר הוראות זדוניות
- **התקפות בלבול מודל**: ניצול מגבלות מודל ליצירת התנהגויות בלתי צפויות או לא בטוחות

### השפעת סיכוני אבטחת בינה מלאכותית

**השלכות בעלות השפעה גבוהה:**
- **דליפת נתונים**: גישה וגניבת מידע רגיש ארגוני או אישי ללא הרשאה
- **הפרות פרטיות**: חשיפת מידע אישי מזהה (PII) ונתוני עסק סודיים  
- **מניפולציה של מערכות**: שינויים בלתי מכוונים במערכות וזרימות עבודה קריטיות
- **גניבת אישורים**: פגיעה באסימוני אימות ואישורי שירות
- **תנועה רוחבית**: שימוש במערכות AI פגועות כנקודות מעבר להתקפות רחבות יותר ברשת

### פתרונות אבטחת בינה מלאכותית של מיקרוסופט

#### **AI Prompt Shields: הגנה מתקדמת מפני התקפות הזרקת פקודות**

Microsoft **AI Prompt Shields** מספקים הגנה מקיפה מפני התקפות הזרקת פקודות ישירות ועקיפות באמצעות שכבות אבטחה מרובות:

##### **מנגנוני הגנה מרכזיים:**

1. **זיהוי וסינון מתקדמים**
   - אלגוריתמים של למידת מכונה וטכניקות NLP מזהים הוראות זדוניות בתוכן חיצוני
   - ניתוח בזמן אמת של מסמכים, דפי אינטרנט, אימיילים ומקורות נתונים לאיומים מוטמעים
   - הבנה הקשרית של דפוסי פקודות לגיטימיות מול זדוניות

2. **טכניקות הדגשה**  
   - מבדילה בין הוראות מערכת מהימנות לקלט חיצוני פוטנציאלית פגוע
   - שיטות טרנספורמציית טקסט המשפרות רלוונטיות המודל תוך בידוד תוכן זדוני
   - מסייעת למערכות AI לשמור על היררכיית הוראות נכונה ולהתעלם מפקודות מוזרקות

3. **מערכות מפרידים וסימוני נתונים**
   - הגדרת גבולות מפורשת בין הודעות מערכת מהימנות לטקסט קלט חיצוני
   - סימנים מיוחדים המדגישים גבולות בין מקורות נתונים מהימנים ללא אמון
   - הפרדה ברורה המונעת בלבול בהוראות וביצוע פקודות לא מורשות

4. **מודיעין איומים מתמשך**
   - מיקרוסופט מנטרת באופן רציף דפוסי התקפה חדשים ומעדכנת הגנות
   - ציד איומים פרואקטיבי לטכניקות הזרקה חדשות ווקטורי התקפה
   - עדכוני מודל אבטחה סדירים לשמירה על יעילות מול איומים מתפתחים

5. **אינטגרציה עם Azure Content Safety**
   - חלק מחבילת Azure AI Content Safety מקיפה
   - זיהוי נוסף לניסיונות jailbreak, תוכן מזיק והפרות מדיניות אבטחה
   - בקרות אבטחה מאוחדות על רכיבי יישום AI

**משאבי יישום**: [תיעוד Microsoft Prompt Shields](https://learn.microsoft.com/azure/ai-services/content-safety/concepts/jailbreak-detection)

![הגנת Microsoft Prompt Shields](../../../translated_images/he/prompt-shield.ff5b95be76e9c78c6ec0888206a4a6a0a5ab4bb787832a9eceef7a62fe0138d1.png)


## איומי אבטחה מתקדמים ב-MCP

### פגיעויות חטיפת מושבים

**חטיפת מושבים** היא וקטור התקפה קריטי ביישומי MCP מדינתיים שבהם צדדים לא מורשים משיגים ומנצלים מזהי מושבים לגיטימיים כדי להעמיד פנים כלקוחות ולבצע פעולות לא מורשות.

#### **תרחישי התקפה וסיכונים**

- **הזרקת פקודות בחטיפת מושב**: תוקפים עם מזהי מושבים גנובים מזריקים אירועים זדוניים לשרתי MCP שמשתפים מצב מושב, ועלולים לגרום לפעולות מזיקות או לגישה לנתונים רגישים
- **העמדה פנים ישירה**: מזהי מושבים גנובים מאפשרים קריאות ישירות לשרתי MCP העוקפות אימות, מטפלים בתוקפים כמשתמשים לגיטימיים
- **זרמים ניתנים להמשך פגועים**: תוקפים יכולים לקטוע בקשות מוקדם מדי, מה שגורם ללקוחות לגיטימיים להמשיך עם תוכן שעלול להיות זדוני

#### **בקרות אבטחה לניהול מושבים**

**דרישות קריטיות:**
- **אימות הרשאות**: שרתי MCP שמיישמים הרשאות **חייבים** לאמת את כל הבקשות הנכנסות ו**אסור** להם להסתמך על סשנים לאימות
- **יצירת סשנים מאובטחת**: השתמשו במזהי סשן קריפטוגרפיים מאובטחים, לא דטרמיניסטיים, שנוצרים עם מחוללי מספרים אקראיים מאובטחים
- **קישור ספציפי למשתמש**: קשרו מזהי סשן למידע ספציפי למשתמש באמצעות פורמטים כמו `<user_id>:<session_id>` כדי למנוע ניצול סשנים בין משתמשים
- **ניהול מחזור חיים של סשן**: יישמו תוקף, סיבוב וביטול תקין כדי להגביל חלונות פגיעות
- **אבטחת תעבורה**: HTTPS חובה לכל התקשורת כדי למנוע יירוט מזהי סשן

### בעיית הסגן המבויש

בעיית ה**סגן המבויש** מתרחשת כאשר שרתי MCP פועלים כסוכני אימות בין לקוחות לשירותים צד שלישי, ויוצרים הזדמנויות לעקיפת הרשאות דרך ניצול מזהה לקוח סטטי.

#### **מכניקת התקיפה וסיכונים**

- **עקיפת הסכמה מבוססת עוגיות**: אימות משתמש קודם יוצר עוגיות הסכמה שהמתקיפים מנצלים דרך בקשות הרשאה זדוניות עם URI הפניה מעוצבים
- **גניבת קוד הרשאה**: עוגיות הסכמה קיימות עלולות לגרום לשרתי ההרשאה לדלג על מסכי הסכמה ולהפנות קודים לנקודות קצה שבשליטת התוקף  
- **גישה לא מורשית ל-API**: קודי הרשאה גנובים מאפשרים החלפת אסימון והתחזות למשתמש ללא אישור מפורש

#### **אסטרטגיות הפחתה**

**בקרות חובה:**
- **דרישות הסכמה מפורשת**: שרתי פרוקסי MCP המשתמשים במזהי לקוח סטטיים **חייבים** לקבל הסכמת משתמש עבור כל לקוח שנרשם דינמית
- **יישום אבטחת OAuth 2.1**: עקבו אחר שיטות האבטחה הטובות ביותר של OAuth כולל PKCE (הוכחת מפתח להחלפת קוד) לכל בקשות ההרשאה
- **אימות לקוח קפדני**: יישמו אימות מחמיר של URI הפניה ומזהי לקוח למניעת ניצול

### פגיעויות Token Passthrough  

**Token passthrough** מייצג אנטי-תבנית מפורשת שבה שרתי MCP מקבלים אסימוני לקוח ללא אימות תקין ומעבירים אותם ל-APIs במורד הזרם, תוך הפרת מפרטי ההרשאה של MCP.

#### **השלכות אבטחה**

- **עקיפת בקרות**: שימוש ישיר באסימוני לקוח ל-API עוקף הגבלות קצב, אימות ומעקב קריטיים
- **שיבוש מסלול ביקורת**: אסימונים שהונפקו במעלה הזרם מקשים על זיהוי הלקוח, ומפריעים לחקירת תקריות
- **הוצאת נתונים דרך פרוקסי**: אסימונים לא מאומתים מאפשרים לתוקפים להשתמש בשרתים כפרוקסי לגישה לא מורשית לנתונים
- **הפרת גבולות אמון**: שירותים במורד הזרם עלולים להפר הנחות אמון כאשר לא ניתן לאמת את מקור האסימון
- **הרחבת התקפות רב-שירותיות**: אסימונים שנפרצו ומתקבלים בשירותים מרובים מאפשרים תנועה רוחבית

#### **בקרות אבטחה נדרשות**

**דרישות בלתי ניתנות למשא ומתן:**
- **אימות אסימון**: שרתי MCP **אסור** שיקבלו אסימונים שלא הונפקו במפורש עבור שרת MCP
- **אימות קהל יעד**: תמיד אמתו שטענות הקהל של האסימון תואמות את זהות שרת MCP
- **מחזור חיים תקין של אסימון**: יישמו אסימוני גישה קצרים חיים עם שיטות סיבוב מאובטחות


## אבטחת שרשרת אספקה למערכות AI

אבטחת שרשרת האספקה התפתחה מעבר לתלותות תוכנה מסורתיות כדי לכלול את כל מערכת האקולוגית של AI. יישומי MCP מודרניים חייבים לאמת ולנטר בקפידה את כל רכיבי ה-AI, שכן כל אחד מהם מציג פגיעויות פוטנציאליות העלולות לסכן את שלמות המערכת.

### רכיבי שרשרת אספקה מורחבים ל-AI

**תלותות תוכנה מסורתיות:**
- ספריות וקונסטרוקציות קוד פתוח
- תמונות מכולות ומערכות בסיס  
- כלי פיתוח וצינורות בנייה
- רכיבי תשתית ושירותים

**רכיבי שרשרת אספקה ספציפיים ל-AI:**
- **מודלים בסיסיים**: מודלים מאומנים מראש מספקים שונים שדורשים אימות מקור
- **שירותי הטמעה**: שירותי וקטוריזציה וחיפוש סמנטי חיצוניים
- **ספקי הקשר**: מקורות נתונים, בסיסי ידע ומאגרי מסמכים  
- **APIs צד שלישי**: שירותי AI חיצוניים, צינורות ML ונקודות עיבוד נתונים
- **ארטיפקטים של מודלים**: משקלים, תצורות וגרסאות מודל מכוונות
- **מקורות נתוני אימון**: מערכי נתונים לאימון וכיוונון מודלים

### אסטרטגיית אבטחת שרשרת אספקה מקיפה

#### **אימות רכיבים ואמון**
- **אימות מקור**: אמתו את המקור, הרישוי והשלמות של כל רכיבי ה-AI לפני האינטגרציה
- **הערכת אבטחה**: בצעו סריקות פגיעות וביקורות אבטחה למודלים, מקורות נתונים ושירותי AI
- **ניתוח מוניטין**: העריכו את רקע האבטחה והפרקטיקות של ספקי שירותי AI
- **אימות תאימות**: ודאו שכל הרכיבים עומדים בדרישות האבטחה והרגולציה של הארגון

#### **צינורות פריסה מאובטחים**  
- **אבטחת CI/CD אוטומטית**: שלבו סריקות אבטחה לאורך כל צינורות הפריסה האוטומטיים
- **שלמות ארטיפקטים**: יישמו אימות קריפטוגרפי לכל הארטיפקטים המופצים (קוד, מודלים, תצורות)
- **פריסה בשלבים**: השתמשו באסטרטגיות פריסה הדרגתיות עם אימות אבטחה בכל שלב
- **מאגרי ארטיפקטים מהימנים**: פרסו רק ממאגרים וארטיפקטים מאומתים ומאובטחים

#### **ניטור ותגובה רציפים**
- **סריקת תלותות**: ניטור מתמשך של פגיעויות בכל תלותות התוכנה ורכיבי ה-AI
- **ניטור מודלים**: הערכה רציפה של התנהגות מודל, סטייה בביצועים ואנומליות אבטחה
- **מעקב בריאות שירותים**: ניטור שירותי AI חיצוניים לזמינות, תקריות אבטחה ושינויים במדיניות
- **שילוב מודיעין איומים**: שילוב פידים של איומים ספציפיים לאבטחת AI ו-ML

#### **בקרת גישה ועקרון ההרשאה המינימלית**
- **הרשאות ברמת רכיב**: הגבלת גישה למודלים, נתונים ושירותים על בסיס צורך עסקי
- **ניהול חשבונות שירות**: יישום חשבונות שירות ייעודיים עם הרשאות מינימליות נדרשות
- **סגמנטציית רשת**: בידוד רכיבי AI והגבלת גישה רשתית בין שירותים
- **בקרות שער API**: שימוש בשערי API מרכזיים לשליטה ומעקב על גישה לשירותי AI חיצוניים

#### **תגובה לתקריות ושחזור**
- **נהלי תגובה מהירים**: תהליכים מבוססים לתיקון או החלפת רכיבי AI שנפרצו
- **סיבוב אישורים**: מערכות אוטומטיות לסיבוב סודות, מפתחות API ואישורי שירות
- **יכולת שחזור**: אפשרות להחזרה מהירה לגרסאות ידועות וטובות של רכיבי AI
- **שחזור מפריצות בשרשרת אספקה**: נהלים ספציפיים לתגובה לפריצות בשירותי AI במעלה הזרם

### כלי אבטחה ואינטגרציה של מיקרוסופט

**GitHub Advanced Security** מספק הגנה מקיפה על שרשרת האספקה הכוללת:
- **סריקת סודות**: זיהוי אוטומטי של אישורים, מפתחות API ואסימונים במאגרים
- **סריקת תלותות**: הערכת פגיעויות לתלותות וקוד פתוח
- **ניתוח CodeQL**: ניתוח סטטי של קוד לזיהוי פגיעויות ובעיות קידוד
- **תובנות שרשרת אספקה**: נראות למצב בריאות התלותות ואבטחתן

**אינטגרציה עם Azure DevOps ו-Azure Repos:**
- אינטגרציה חלקה של סריקות אבטחה בפלטפורמות הפיתוח של מיקרוסופט
- בדיקות אבטחה אוטומטיות ב-Azure Pipelines לעומסי עבודה של AI
- אכיפת מדיניות לפריסה מאובטחת של רכיבי AI

**פרקטיקות פנימיות של מיקרוסופט:**
מיקרוסופט מיישמת פרקטיקות אבטחת שרשרת אספקה נרחבות בכל מוצריה. למידע נוסף על גישות מוכחות ב-[The Journey to Secure the Software Supply Chain at Microsoft](https://devblogs.microsoft.com/engineering-at-microsoft/the-journey-to-secure-the-software-supply-chain-at-microsoft/).


## שיטות עבודה מומלצות לאבטחת יסוד

יישומי MCP יורשים ובונים על עמדת האבטחה הקיימת בארגון שלכם. חיזוק שיטות העבודה המומלצות הבסיסיות משפר משמעותית את האבטחה הכוללת של מערכות AI ופריסות MCP.

### יסודות אבטחה מרכזיים

#### **שיטות פיתוח מאובטחות**
- **עמידה ב-OWASP**: הגנה מפני [OWASP Top 10](https://owasp.org/www-project-top-ten/) פגיעויות באפליקציות ווב
- **הגנות ספציפיות ל-AI**: יישום בקרות עבור [OWASP Top 10 ל-LLMs](https://genai.owasp.org/download/43299/?tmstv=1731900559)
- **ניהול סודות מאובטח**: שימוש בכספות ייעודיות לאסימונים, מפתחות API ונתוני תצורה רגישים
- **הצפנה מקצה לקצה**: יישום תקשורת מאובטחת בכל רכיבי האפליקציה וזרימות הנתונים
- **אימות קלט**: אימות קפדני של כל קלטי משתמש, פרמטרי API ומקורות נתונים

#### **הקשחת תשתית**
- **אימות רב-שלבי**: MFA חובה לכל חשבונות מנהל ושירות
- **ניהול תיקונים**: תיקונים אוטומטיים ובזמן למערכות הפעלה, מסגרות ותלותות  
- **אינטגרציה עם ספקי זהות**: ניהול זהויות מרכזי דרך ספקי זהות ארגוניים (Microsoft Entra ID, Active Directory)
- **סגמנטציית רשת**: בידוד לוגי של רכיבי MCP להגבלת תנועה רוחבית
- **עקרון ההרשאה המינימלית**: הרשאות מינימליות נדרשות לכל רכיבי המערכת והחשבונות

#### **ניטור ואיתור אבטחה**
- **רישום מקיף**: רישום מפורט של פעילויות אפליקציית AI, כולל אינטראקציות לקוח-שרת MCP
- **אינטגרציית SIEM**: ניהול מרכזי של מידע ואירועים לאיתור אנומליות
- **אנליטיקה התנהגותית**: ניטור מבוסס AI לזיהוי דפוסים חריגים במערכת ובהתנהגות משתמשים
- **מודיעין איומים**: שילוב פידים חיצוניים ואינדיקטורים לפריצות (IOCs)
- **תגובה לתקריות**: נהלים מוגדרים לאיתור, תגובה ושחזור מתקריות אבטחה

#### **ארכיטקטורת Zero Trust**
- **לעולם אל תסמוך, תמיד אמת**: אימות רציף של משתמשים, מכשירים וחיבורים רשתיים
- **מיקרו-סגמנטציה**: בקרות רשת גרנולריות שמבודדות עומסי עבודה ושירותים בודדים
- **אבטחה מבוססת זהות**: מדיניות אבטחה מבוססת זהויות מאומתות במקום מיקום רשת
- **הערכת סיכון רציפה**: הערכת עמדת אבטחה דינמית על בסיס הקשר והתנהגות נוכחית
- **גישה מותנית**: בקרות גישה המותאמות לפי גורמי סיכון, מיקום ואמון במכשיר

### דפוסי אינטגרציה ארגוניים

#### **אינטגרציית אקוסיסטם האבטחה של מיקרוסופט**
- **Microsoft Defender for Cloud**: ניהול עמדת אבטחה מקיפה בענן
- **Azure Sentinel**: SIEM ו-SOAR ילידי ענן להגנת עומסי עבודה של AI
- **Microsoft Entra ID**: ניהול זהויות וגישה ארגוני עם מדיניות גישה מותנית
- **Azure Key Vault**: ניהול סודות מרכזי עם גיבוי מודול אבטחה חומרתי (HSM)
- **Microsoft Purview**: ממשל וציות לנתונים למקורות וזרימות עבודה של AI

#### **ציות וממשל**
- **התאמה לרגולציה**: ודאו שיישומי MCP עומדים בדרישות ציות ספציפיות לתעשייה (GDPR, HIPAA, SOC 2)
- **סיווג נתונים**: סיווג וטיפול נאות בנתונים רגישים המעובדים על ידי מערכות AI
- **מסלולי ביקורת**: רישום מקיף לציות רגולטורי ולחקירות פורנזיות
- **בקרות פרטיות**: יישום עקרונות פרטיות-ביסוד בארכיטקטורת מערכות AI
- **ניהול שינויים**: תהליכים פורמליים לביקורות אבטחה של שינויים במערכות AI

שיטות יסוד אלו יוצרות בסיס אבטחה איתן המשפר את יעילות בקרות האבטחה הספציפיות ל-MCP ומספק הגנה מקיפה לאפליקציות מונעות AI.

## נקודות מפתח לאבטחה

- **גישה אבטחתית רב-שכבתית**: שילוב שיטות אבטחה בסיסיות (קידוד מאובטח, הרשאות מינימליות, אימות שרשרת אספקה, ניטור רציף) עם בקרות ספציפיות ל-AI להגנה מקיפה

- **נוף איומי AI ייחודי**: מערכות MCP מתמודדות עם סיכונים ייחודיים כולל הזרקת פרומפט, הרעלת כלים, חטיפת סשנים, בעיית סגן מבויש, פגיעויות token passthrough והרשאות מופרזות שדורשות הפחתות מיוחדות

- **מצוינות באימות והרשאה**: יישום אימות חזק באמצעות ספקי זהות חיצוניים (Microsoft Entra ID), אכיפת אימות אסימונים תקין, ואי קבלת אסימונים שלא הונפקו במפורש לשרת MCP שלכם

- **מניעת התקפות AI**: פריסת Microsoft Prompt Shields ו-Azure Content Safety להגנה מפני הזרקת פרומפט עקיפה והתקפות הרעלת כלים, תוך אימות מטא-נתוני כלים וניטור שינויים דינמיים

- **אבטחת סשנים ותעבורה**: שימוש במזהי סשן קריפטוגרפיים מאובטחים, לא דטרמיניסטיים, הקשורים לזהויות משתמש, יישום ניהול מחזור חיים תקין של סשנים, ואי שימוש בסשנים לאימות

- **שיטות אבטחת OAuth הטובות ביותר**: מניעת התקפות סגן מבויש דרך הסכמה מפורשת למשתמש עבור לקוחות שנרשמו דינמית, יישום OAuth 2.1 תקין עם PKCE, ואימות קפדני של URI הפניה  

- **עקרונות אבטחת אסימונים**: הימנעות מאנטי-תבניות token passthrough, אימות טענות קהל האסימון, יישום אסימונים קצרים חיים עם סיבוב מאובטח, ושמירה על גבולות אמון ברורים

- **אבטחת שרשרת אספקה מקיפה**: התייחסות לכל רכיבי מערכת האקולוגית של AI (מודלים, הטמעות, ספקי הקשר, APIs חיצוניים) באותה רמת אבטחה כמו תלותות תוכנה מסורתיות

- **התפתחות רציפה**: הישארות מעודכנים עם מפרטי MCP המתפתחים במהירות, תרומה לסטנדרטים קהילתיים, ושמירה על עמדות אבטחה אדפטיביות ככל שהפרוטוקול מתפתח

- **אינטגרציית אבטחה של מיקרוסופט**: ניצול אקוסיסטם האבטחה המקיף של מיקרוסופט (Prompt Shields, Azure Content Safety, GitHub Advanced Security, Entra ID) להגנה משופרת בפריסות MCP

## משאבים מקיפים

### **תיעוד רשמי לאבטחת MCP**
- [מפרט MCP (נוכחי: 2025-11-25)](https://spec.modelcontextprotocol.io/specification/2025-11-25/)
- [שיטות עבודה מומלצות לאבטחת MCP](https://modelcontextprotocol.io/specification/2025-11-25/basic/security_best_practices)
- [מפרט הרשאות MCP](https://modelcontextprotocol.io/specification/2025-11-25/basic/authorization)
- [מאגר GitHub של MCP](https://github.com/modelcontextprotocol)

### **תקני אבטחה ושיטות עבודה מומלצות**
- [שיטות אבטחה מומלצות ל-OAuth 2.0 (RFC 9700)](https://datatracker.ietf.org/doc/html/rfc9700)
- [OWASP Top 10 לאבטחת אפליקציות ווב](https://owasp.org/www-project-top-ten/)
- [OWASP Top 10 למודלים שפתיים גדולים](https://genai.owasp.org/download/43299/?tmstv=1731900559)
- [דוח ההגנה הדיגיטלית של מיקרוסופט](https://aka.ms/mddr)

### **מחקר וניתוח אבטחת AI**
- [הזרקת פרומפט ב-MCP (Simon Willison)](https://simonwillison.net/2025/Apr/9/mcp-prompt-injection/)
- [התקפות הרעלת כלים (Invariant Labs)](https://invariantlabs.ai/blog/mcp-security-notification-tool-poisoning-attacks)
- [תדריך מחקר אבטחה MCP (Wiz Security)](https://www.wiz.io/blog/mcp-security-research-briefing#remote-servers-22)

### **פתרונות אבטחה של מיקרוסופט**
- [תיעוד Microsoft Prompt Shields](https://learn.microsoft.com/azure/ai-services/content-safety/concepts/jailbreak-detection)
- [שירות Azure Content Safety](https://learn.microsoft.com/azure/ai-services/content-safety/)
- [אבטחת Microsoft Entra ID](https://learn.microsoft.com/entra/identity-platform/secure-least-privileged-access)
- [שיטות עבודה מומלצות לניהול אסימונים ב-Azure](https://learn.microsoft.com/entra/identity-platform/access-tokens)
- [GitHub אבטחה מתקדמת](https://github.com/security/advanced-security)

### **מדריכי יישום והדרכות**
- [ניהול API של Azure כשער אימות MCP](https://techcommunity.microsoft.com/blog/integrationsonazureblog/azure-api-management-your-auth-gateway-for-mcp-servers/4402690)
- [אימות Microsoft Entra ID עם שרתי MCP](https://den.dev/blog/mcp-server-auth-entra-id-session/)
- [אחסון והצפנת אסימונים מאובטחים (וידאו)](https://youtu.be/uRdX37EcCwg?si=6fSChs1G4glwXRy2)

### **אבטחת DevOps ושרשרת אספקה**
- [אבטחת Azure DevOps](https://azure.microsoft.com/products/devops)
- [אבטחת Azure Repos](https://azure.microsoft.com/products/devops/repos/)
- [מסע אבטחת שרשרת האספקה של מיקרוסופט](https://devblogs.microsoft.com/engineering-at-microsoft/the-journey-to-secure-the-software-supply-chain-at-microsoft/)

## **תיעוד אבטחה נוסף**

להנחיות אבטחה מקיפות, עיינו במסמכים המיוחדים בסעיף זה:

- **[שיטות עבודה מומלצות לאבטחת MCP 2025](./mcp-security-best-practices-2025.md)** - שיטות עבודה מומלצות מלאות לאבטחת יישומי MCP  
- **[יישום Azure Content Safety](./azure-content-safety-implementation.md)** - דוגמאות יישום מעשיות לשילוב Azure Content Safety  
- **[בקרות אבטחה MCP 2025](./mcp-security-controls-2025.md)** - בקרות וטכניקות אבטחה עדכניות לפריסות MCP  
- **[מדריך מהיר לשיטות עבודה מומלצות MCP](./mcp-best-practices.md)** - מדריך מהיר לשיטות אבטחה חיוניות ל-MCP

---

## מה הלאה

הבא: [פרק 3: התחלה](../03-GettingStarted/README.md)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**כתב ויתור**:  
מסמך זה תורגם באמצעות שירות תרגום מבוסס בינה מלאכותית [Co-op Translator](https://github.com/Azure/co-op-translator). למרות שאנו שואפים לדיוק, יש לקחת בחשבון כי תרגומים אוטומטיים עלולים להכיל שגיאות או אי-דיוקים. המסמך המקורי בשפת המקור שלו הוא המקור הסמכותי. למידע קריטי מומלץ להשתמש בתרגום מקצועי על ידי אדם. אנו לא נושאים באחריות לכל אי-הבנה או פרשנות שגויה הנובעת משימוש בתרגום זה.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->